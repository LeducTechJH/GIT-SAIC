package gov.dlf.presentation;


import gov.dlf.facade.*;
import gov.dlf.logic.*;

import net.maintrend.appmanager.*;
import net.maintrend.datamanager.*;
import net.maintrend.interfaces.*;
import net.maintrend.jdatapanel.*;
import net.maintrend.rallyengine.*;
import net.maintrend.util.*;



/**
 * __Comment
 *
 * Generated by Rally-to-Java Convertor. MainTrend Ltd.
 */
public class SERV_NUCLEO_SERV_FRM
extends Form
{
	// -------------------------------------------------------------------
	// ----------   Instance Attributes   --------------------------------

	/**  */
	public SAIC_DMQ_ORA_Application app;



	// -------------------------------------------------------------------
	// ----------   Constructors and supporting methods   ----------------

	/**
	 *
	 */
	public SERV_NUCLEO_SERV_FRM ( )
	{
		super ( );
		this.setName ( "SERV_NUCLEO_SERV_FRM" );

		Debug.println ( Debug.TRACE, "SERV_NUCLEO_SERV_FRM - constructor" );

		this.setDefinitionPath ( "gov/dlf/presentation/SERV_NUCLEO_SERV_FRM.jdp" );
		String definition = ResourceUtil.getResourceText ( this.definitionPath );
		this.setDefinition     ( definition );

		this.setHighLightSelected   ( false );
		this.compressFieldLocations ( false, true );  // Compresses only Y-locations
	}


	/**
	 * Overrides ancestor's script
	 *
	 * @param __app
	 */
	public void setApplication ( Application __app )
	{
		this.app = ( SAIC_DMQ_ORA_Application ) __app;
		if ( this.app != null )
		{
			this.setDataManager ( this.app.getDataManager ( ) );
		}

		ICalculator           calculator;
		IBooleanValueProvider txtVisible;
		IBooleanValueProvider groupVisible;
		IObjectValueProvider  valueProvider;
		JDataPanelField       field;
		JDataPanelTextGroup   txtGroup;
		JDataPanelGroup       visGroup;

		this.setArguments ( "FAM_JEFE_GP", new SERV_NUCLEO_SERV_FRM_FAM_JEFE_GP_Arguments ( this ) );
		this.setArguments ( "SERV_INFO_GP", new SERV_NUCLEO_SERV_FRM_SERV_INFO_GP_Arguments ( this ) );

		this.setObjectEvents ( );
		field = ( JDataPanelField ) this.getInDepth ( "RMO_DIR" );
		field.setValueProvider ( new SERV_NUCLEO_SERV_FRM_RMO_DIRProvider ( this ) );
		field = ( JDataPanelField ) this.getInDepth ( "RMO_NUCLEO" );
		field.setValueProvider ( new SERV_NUCLEO_SERV_FRM_RMO_NUCLEOProvider ( this ) );



		calculator = new SERV_NUCLEO_SERV_FRM_TOT_INGCalculator ( this );
		field = ( JDataPanelField ) this.getInDepth ( "TOT_ING" );
		field.setValueCalculator ( calculator );
		calculator = new SERV_NUCLEO_SERV_FRM_TOT_RECCalculator ( this );
		field = ( JDataPanelField ) this.getInDepth ( "TOT_REC" );
		field.setValueCalculator ( calculator );
		calculator = new SERV_NUCLEO_SERV_FRM_TOT_GASTCalculator ( this );
		field = ( JDataPanelField ) this.getInDepth ( "TOT_GAST" );
		field.setValueCalculator ( calculator );
		calculator = new SERV_NUCLEO_SERV_FRM_OTRA_LOCALCalculator ( this );
		field = ( JDataPanelField ) this.getInDepth ( "OTRA_LOCAL" );
		field.setValueCalculator ( calculator );
	}


	/**
	 * Overrides ancestor's method
	 *
	 * @return
	 */
	public RallyApplication getApplication ( )
	{
		return this.app;
	}



	// -------------------------------------------------------------------
	// ----------   Action Sites   ---------------------------------------

	/**
	 *
	 */
	public void setObjectEvents ( )
	{
		this.registerListener ( "SEGURO_SOCIAL_JEFE_FAM1", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "NEXT FIELD" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_JEFE_SERV", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_SERV_SSJS_BEF_CHANGE_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_JEFE_SERV", JDataPanelListener.VALIDATION, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				double val = app.form ( "SERV_NUCLEO_SERV_FRM" ).getDoubleItem ( "SEGURO_SOCIAL_JEFE_SERV" );
				if ( Double.isNaN ( val ) || val <= 0 )
				{
					app.requireRefresh = true;
					app.errorFlag = false;
					return false;
				}
				app.errorFlag = true;
				return true;

			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_JEFE_SERV", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; INSERT_SERV_NOT_FINISH_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_JEFE_SERV", JDataPanelListener.AFTERVALUECHANGE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_SERV_UPDATE_JEFE_SERV_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		//***** Start Mods by J. Olmeda 5/19/2010 *****
		/*
    this.registerListener ( "COD_SERVICIO", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
    {
      public boolean eventFired ( String eventName )
      {
        app.errorFlag = true; SERV_NUCLEO_SERV_COD_SERVICIO_AFTER_ADL.exec ( app ); return app.errorFlag;
      }
    } );
		 */
		//***** End Mods by J. Olmeda 5/19/2010 *****
		this.registerListener ( "FCH_SOLICITUD", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "FCH_SOLICITUD", JDataPanelListener.AFTERVALUECHANGE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; UPDATE_FCH_SOLIC_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "FCH_SOLICITUD", JDataPanelListener.VALIDATION, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; CHECK_SERV_FCH_SOLICITUD_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_ADMN", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_ADMN", JDataPanelListener.AFTERVALUECHANGE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_SERV_SSA_AFTER_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		
		//***** Start Mods by JOR 5/10/2010 *****
		this.registerListener ( "COD_RAZON_EMERGENCIA", JDataPanelListener.VALIDATION, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true;
				String serv = __form.getStringValue ( "COD_SERVICIO" );
				if ( RallyStringService.subString ( serv, 0, 4).equals ( "PANE" ) )
				{
					String razonEmerg = __form.getStringValue ( "COD_RAZON_EMERGENCIA" ).trim();
					if ( razonEmerg.length() == 0)
					{
						app.setError ( 0, 8476 );
						app.errorFlag = false;
					}
				}
				else
				{
					String razonEmerg = __form.getStringValue ( "COD_RAZON_EMERGENCIA" ).trim();
					if ( ! razonEmerg.equals("") )
					{
						// display required field message
						app.setError ( 0, 8475 );
						app.errorFlag = false;
					}
				}
				return app.errorFlag;
			}
		} );
		this.registerListener ( "COD_RAZON_EMERGENCIA", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true;
				String serv = __form.getStringValue ( "COD_SERVICIO" );
				if ( RallyStringService.subString ( serv, 0, 4).equals ( "PANE" ) )
				{
					String razonEmerg = __form.getStringValue ( "COD_RAZON_EMERGENCIA" ).trim();
					if ( razonEmerg.length() == 0)
					{
						app.setError ( 0, 8476 );
						app.errorFlag = false;
					}
				}
				return app.errorFlag;
			}
		} );
		//***** End Mods by JOR 5/10/2010 *****
		this.registerListener ( "PATERNO_ADMN", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "MATERNO_ADMN", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NOMBRE_ADMN", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "INICIAL_ADMN", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_REPRE", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_REPRE", JDataPanelListener.AFTERVALUECHANGE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_SERV_SSR_AFTER_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "PATERNO_REPRE", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "MATERNO_REPRE", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NOMBRE_REPRE", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "INICIAL_REPRE", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_EXIT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "CIUDAD_VAR", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; CHEK_DIR_SERV_AGG_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_DIRECCION_GP", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; 
				try
				{
					String serv = __form.getStringItem ( "COD_SERVICIO" );
					if ( serv.equals ( "ATEM" ) || serv.equals ( "ATFS" ) || serv.equals ( "ATES" ) || serv.equals ( "LISE" ) || serv.contains ( "LICE" ) )
					{
						JDataPanelGroup group = ( JDataPanelGroup ) __form.getInDepth ( "SERV_DIRECCION_GP" );
						DataStore ds = ( DataStore ) group.getDataStore ( );
					    app.callCommand(RallyAppCommandFactory.RGNEXT);
						for ( int row = 0; row < ds.getRowCount ( ); row ++ )
						{
							DataStoreRow dsr = ds.rows.get ( row );
							int rowState = dsr.getRowState ( );
							if ( rowState == DataStoreRowState.NewModified )
							{
								dsr.setRowState ( DataStoreRowState.NotModified );
							}
						}
						app.browseToField ( "SERV_NUCLEO_SERV_FRM", "EMG_PROBLEMA" );
						//RESET FIELDS FOR LICE1
					    if ( Compare.equals ( app.MANT_ACCION_SERV_GBL, "IS" ) ) 
					    {
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("EMERG_VER_OFRECIDAS", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("EMERG_NOM_SUPL_SERV", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("EMER_NUM_CUENTA", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ATRASOS", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("NOMBRE_ABONADO", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("BALANCE", 0);
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("DELINCUENT", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FLAG_MULT", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_FACTURA", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_0", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_1", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_2", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_3", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_4", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_5", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_0", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_1", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_2", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_3", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_4", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_5", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("PLAN_PAGO_FLG", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FACTURAS", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("CHEQUE_CANJEADO", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("DIRECCION", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ORDEN_CORTE_SERV", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("NOTIF_CORTE_SERV", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_DIGITOS_SSN", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("CANTIDAD_AUTO", 0);
					    }
					}
				}
				catch ( Exception ex )
				{
				}
				return app.errorFlag;
			}
		} );
		this.registerListener ( "ZIP_CODE_4", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				try
				{
					String serv = __form.getStringItem ( "COD_SERVICIO" );
					if ( serv.equals ( "ATEM" ) || serv.equals ( "ATFS" ) || serv.equals ( "ATES" ) || serv.equals ( "LISE" ) || serv.contains ( "LICE" ) )
					{
						JDataPanelGroup group = ( JDataPanelGroup ) __form.getInDepth ( "SERV_DIRECCION_GP" );
						DataStore ds = ( DataStore ) group.getDataStore ( );
						for ( int row = 0; row < ds.getRowCount ( ); row ++ )
						{
							DataStoreRow dsr = ds.rows.get ( row );
							int rowState = dsr.getRowState ( );
							if ( rowState == DataStoreRowState.NewModified )
							{
								dsr.setRowState ( DataStoreRowState.NotModified );
							}
						}
						app.browseToField ( "SERV_NUCLEO_SERV_FRM", "EMG_PROBLEMA" );
						//RESET FIELDS FOR LICE1
					    if ( Compare.equals ( app.MANT_ACCION_SERV_GBL, "IS" ) ) 
					    {
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("EMERG_VER_OFRECIDAS", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("EMERG_NOM_SUPL_SERV", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("EMER_NUM_CUENTA", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ATRASOS", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("NOMBRE_ABONADO", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("BALANCE", 0);
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("DELINCUENT", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FLAG_MULT", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_FACTURA", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_0", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_1", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_2", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_3", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_4", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_PAGO_5", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_0", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_1", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_2", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_3", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_4", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FCH_ULT_PAGO_5", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("PLAN_PAGO_FLG", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("FACTURAS", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("CHEQUE_CANJEADO", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("DIRECCION", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ORDEN_CORTE_SERV", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("NOTIF_CORTE_SERV", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("ULT_DIGITOS_SSN", "");
					    	app.form("SERV_NUCLEO_SERV_FRM").setItem("CANTIDAD_AUTO", 0);
					    }
					}
				}
				catch ( Exception ex )
				{
				}
				return true;
			}
		} );
		this.registerListener ( "EMG_PROBLEMA", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; 
				app.callCommand ( "SET WORD_WRAP" );
				String serv = __form.getStringItem ( "COD_SERVICIO" );
				if(serv.contains ( "LICE1" ))
				{
					app.setError ("0", "Favor verificar y actualizar los datos entrados los campos y oprimir 'ENTER' para validar y actualizar el atraso.");
				}
				return app.errorFlag;
			}
		} );
		this.registerListener ( "EMG_PROBLEMA", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "EMG_GESTIONES", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "EMG_GESTIONES", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "EMERG_VER_OFRECIDAS", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "EMERG_VER_OFRECIDAS", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "EMERG_NOM_SUPL_SERV", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				String serv = __form.getStringItem ( "COD_SERVICIO" );
				if (serv.equals("LICE1"))
				{
					app.form("SERV_NUCLEO_SERV_FRM").setItem("EMERG_NOM_SUPL_SERV", "LUMA ENERGY LLC");
				}
				app.errorFlag = true; 
				; return app.errorFlag;
			}
		} );
		this.registerListener ( "EMERG_NOM_SUPL_SERV", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				String serv = __form.getStringItem ( "COD_SERVICIO" );
				if (  serv.contains ( "LICE" ) )
				{
					if(serv.contains ( "LICE1" ))
					{
						app.setError ("0", "Oprimir 'ENTER'para validar el atraso de la cuenta.");
					}
					String nomSup =  app.form("SERV_NUCLEO_SERV_FRM").getStringItem( "EMERG_NOM_SUPL_SERV" );  
					if (Compare.equals(nomSup, null) || Compare.equals(nomSup, ""))
					{
						app.setError ("0", "El nombre del suplidor es requerido.");
						app.errorFlag = false;
						return app.errorFlag;
					}
				}
				else
					app.errorFlag = true;
				return app.errorFlag;
			}
		} );
		this.registerListener ( "EMER_NUM_CUENTA", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				String serv = __form.getStringItem ( "COD_SERVICIO" );

				if (  serv.equals ( "LICE1" ) )
				{
					AEE_GET_ACCT_NUM_ADL.exec(app);
				}
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "EMER_NUM_CUENTA", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				String serv = __form.getStringItem ( "COD_SERVICIO" );
				String numCta =  app.form("SERV_NUCLEO_SERV_FRM").getStringItem( "EMER_NUM_CUENTA" );
				if (  serv.equals ( "LICE1" ) )
				{	  
					if (Compare.equals(numCta, "0")||Compare.equals(numCta, null ))
					{
						app.setError ("0", "El numero de cuenta es requerido.");
						app.errorFlag = false;
						return app.errorFlag;
					}
					if (numCta.length() != 10) 
					{
						app.setError ("0", "El numero de cuenta debe ser de 10 digitos.");
						app.errorFlag = false;
						return app.errorFlag;
					}

					System.out.println("Checking AEE WS");
					AEE_INFO_GET_ADL.exec( app );
					double cantAuto =  app.form("SERV_NUCLEO_SERV_FRM").getDoubleItem( "CANTIDAD_AUTO" );    
					if (Compare.gt(cantAuto, 900))
					{
						app.setError ("0", "La cantidad autorizada de atraso o pago de luz sobrepasa los $1,200.00.");
						app.form("SERV_NUCLEO_SERV_FRM").setItem("CANTIDAD_AUTO", 900);
						app.errorFlag = true;
						return app.errorFlag;
					}
					app.errorFlag = true;
					return app.errorFlag;
				}
				app.errorFlag = true;
				return app.errorFlag;
			}
		} );
		this.registerListener ( "ATRASOS", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true;
				try
				{
					String atrasos = app.form("SERV_NUCLEO_SERV_FRM").getStringItem( "ATRASOS" );  
					if (Compare.equals(atrasos, "X"))
					{
						__form.setNextObjectName("CANTIDAD_AUTO");
					}
					else
					{

					}
				}
				catch ( Exception ex )
				{
					app.errorFlag = false;
				}
				return true;
			}
		} );
		this.registerListener ( "CANTIDAD_AUTO", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "CANTIDAD_AUTO", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				String serv = __form.getStringItem ( "COD_SERVICIO" );
				double cantAuto =  app.form("SERV_NUCLEO_SERV_FRM").getDoubleItem( "CANTIDAD_AUTO" );    
				if (  serv.equals ( "LICE1" ) )
				{
					if (Compare.gt(cantAuto, 900))
					{
						app.setError ("0", "La cantidad autorizada de atraso o pago de luz sobrepasa los $1,200.00.");
						app.errorFlag = false;
						return app.errorFlag;
					}
				}
				else if (  serv.equals ( "LICE2" ) )
				{
					if (Compare.gt(cantAuto, 100))
					{
						app.setError ("0", "La cantidad autorizada para compra de gas sobrepasa los $100.00.");
						app.errorFlag = false;
						return app.errorFlag;
					}
				}
				else if (  serv.equals ( "LICE3" ) )
				{
					if (Compare.gt(cantAuto, 750))
					{
						app.setError ("0", "La cantidad autorizada para compra de acondicionador de aire sobrepasa los $750.00.");
						app.errorFlag = false;
						return app.errorFlag;
					}
				}
				else if (  serv.equals ( "LICE4" ) )
				{
					if (Compare.gt(cantAuto, 100))
					{
						app.setError ("0", "La cantidad autorizada para compra o reparacion de abanico sobrepasa los $100.00.");
						app.errorFlag = false;
						return app.errorFlag;
					}
				}
				else if (  serv.equals ( "LICE5" ) )
				{
					if (Compare.gt(cantAuto, 150))
					{
						app.setError ("0", "La cantidad autorizada para reparación de acondicionador de aire sobrepasa los $150.00.");
						app.errorFlag = false;
						return app.errorFlag;
					}
				}
				if (Compare.le(cantAuto,0))
				{
					app.setError ("0", "La cantidad autorizada debe ser mayor de 0.");
					app.errorFlag = false;
					return app.errorFlag;
				}
				else
					app.errorFlag = true;
				return app.errorFlag;
			}
		} );
		this.registerListener ( "DESC_COD_SERV", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "DESC_COD_SERV", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "FACTURAS", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "FACTURAS", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "CHEQUE_CANJEADO", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "CHEQUE_CANJEADO", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "PAGO_SERVICIO_PRESTADO", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "SET WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "PAGO_SERVICIO_PRESTADO", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; app.callCommand ( "CLEAR WORD_WRAP" ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NUCLEO_PARK", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_PUT_FLECHA_NUCLEO_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NUCLEO_PARK", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_CLEAR_FLECHA_NUCLEO_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NUCLEO_PARK", JDataPanelListener.HOTKEYPRESS, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SOLIC_SERV_COMP_NUCLEO_SELECT_LF_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "COD_PARENTESCO_RELACION_SERV", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SET_LOV_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "COD_PARENTESCO_RELACION_SERV", JDataPanelListener.BEFORELEAVE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; FINISH_INSERT_SAU_MEMBER_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SEGURO_SOCIAL_BENEFICIARIO", JDataPanelListener.VALIDATION, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				return SERV_NUCLEO_SERV_FRM_BL.validateBeneficiario ( app );
			}
		} );
		this.registerListener ( "FAM_JEFE_GP", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_BEF_VISIT_NUCLEO_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_INFO_GP", JDataPanelListener.BEFOREINSERT, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true;
				//***** Start Mods by JOR 5/28/2010 *****
				String serv = __form.getStringValue ( "COD_SERVICIO" );
				if ( RallyStringService.subString ( serv, 0, 4).equals ( "PANE" ) &&
						__form.getStringValue ( "COD_RAZON_EMERGENCIA" ).trim().length()==0 )
				{
					__form.setItem ( "COD_RAZON_EMERGENCIA", "EREG"  );
				}
				//***** End Mods by JOR 5/28/2010 *****
				INSERT_DIRECCION_SERV_ADL.exec ( app );
				return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_INFO_GP", JDataPanelListener.AFTERINSERT, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; CHECK_NUM_NUCLEO_INSERT_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_INFO_GP", JDataPanelListener.BEFOREUPDATE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true;
				//***** Start Mods by JOR 5/28/2010 *****
				String serv = __form.getStringValue ( "COD_SERVICIO" );
				if ( RallyStringService.subString ( serv, 0, 4).equals ( "PANE" ) &&
						__form.getStringValue ( "COD_RAZON_EMERGENCIA" ).trim().length()==0 )
				{
					__form.setItem ( "COD_RAZON_EMERGENCIA", "EREG"  );
				}
				//***** End Mods by JOR 5/28/2010 *****
				CHEK_DIR_SERV_AGG_ADL.exec ( app );
				return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_INFO_GP", JDataPanelListener.AFTERENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; CHEK_DIR_SERV_AGG_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_DIRECCION_GP", JDataPanelListener.BEFOREUPDATE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; UPDATE_SERV_DIRECCION_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "SERV_DIRECCION_GP", JDataPanelListener.BEFOREINSERTINSTANCE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				try
				{
					JDataPanelGroup group = ( JDataPanelGroup ) __form.getInDepth ( "SERV_DIRECCION_GP" );
					DataStore ds = ( DataStore ) group.getDataStore ( );
					if ( ds.getRowCount ( ) == 0 )
					{
						return true;
					}
				}
				catch ( Exception ex )
				{
				}
				return false;
			}
		} );
		this.registerListener ( "SERV_DIRECCION_GP", JDataPanelListener.AFTERINSERTINSTANCE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				try
				{
					JDataPanelGroup group1 = ( JDataPanelGroup ) __form.getInDepth ( "SERV_INFO_GP" );
					DataStoreRow gRow = ( DataStoreRow ) group1.getDataInstance ( ).getData ( );

					double ssjf = gRow.getItemDouble ( "SEGURO_SOCIAL_JEFE_FAM"  );
					double ssjs = gRow.getItemDouble ( "SEGURO_SOCIAL_JEFE_SERV" );
					String serv = gRow.getItemString ( "COD_SERVICIO"            );

					//double ssjf = __form.getDoubleItem ( "SEGURO_SOCIAL_JEFE_FAM"  );
					//double ssjs = __form.getDoubleItem ( "SEGURO_SOCIAL_JEFE_SERV" );
					//String serv = __form.getStringItem ( "COD_SERVICIO"            );

					__form.setItem ( "SEGURO_SOCIAL_JEFE_FAM2",  ssjf        );
					__form.setItem ( "SEGURO_SOCIAL_JEFE_SERV1", ssjs        );
					__form.setItem ( "COD_SERVICIO1",            serv        );
					__form.setItem ( "COD_TIPO_DIRECCION",       "SERV"      );
					__form.setItem ( "RMO_DIR",                  app.RMO_GBL );

					JDataPanelGroup group = ( JDataPanelGroup ) __form.getInDepth ( "SERV_DIRECCION_GP" );
					DataStore ds = ( DataStore ) group.getDataStore ( );
					for ( int row = 0; row < ds.getRowCount ( ); row ++ )
					{
						DataStoreRow dsr = ds.rows.get ( row );
						int rowState = dsr.getRowState ( );
						if ( rowState == DataStoreRowState.NewModified )
						{
							dsr.setRowState ( DataStoreRowState.NotModified );
						}
					}
				}
				catch ( Exception ex )
				{
				}
				return true;
			}
		} );
		this.registerListener ( "SERV_DIRECCION_GP", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; CHEK_DIR_SERV_AGG_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NUCLEO_SERV_GP", JDataPanelListener.BEFOREINSERT, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				//Fix for FIREFOX. When a client is added the event is triggered without first waiting for
				//the user to press [ENTER]. This routine captures the command sent when gets triggered automatically
				//which is different from when the user activates it. It skips the call to the ADL if it was not triggered
				//by the user.
				if ( !Compare.equals( app.getLastCommandName ( ), "INSERT RECORD AFTER" ) )
				{
					app.errorFlag = true; SERV_NUC_BEF_INS_ADL.exec ( app ); return app.errorFlag;
				}
				return false;

			}
		} );
		this.registerListener ( "NUCLEO_SERV_GP", JDataPanelListener.AFTERINSERT, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_SERV_BEF_INS_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NUCLEO_SERV_GP", JDataPanelListener.BEFOREDELETEINSTANCE, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_NUCLEO_SERV_BEF_DEL_ADL.exec ( app ); return app.errorFlag;
			}
		} );
		this.registerListener ( "NUCLEO_SERV_GP", JDataPanelListener.BEFOREENTER, new JDataPanelListener ( )
		{
			public boolean eventFired ( String eventName )
			{
				app.errorFlag = true; SERV_BEF_VISIT_NUCLEO_ADL.exec ( app ); return app.errorFlag;
			}
		} );
	}
}





/**
 *
 */
class SERV_NUCLEO_SERV_FRM_FAM_JEFE_GP_Arguments extends JDataPanelGroupArguments
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_FAM_JEFE_GP_Arguments ( Form form )
	{
		this.model = form;

		this.setArgName ( "SSN_JEFE_PAR" );
		this.setArgName ( "RMO_PAR" );
	}

	/**  */
	public Object getArgValue ( String argName )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		if ( argName == null )
		{
			return null;
		}
		else if ( argName.equals ( "SSN_JEFE_PAR" ) )
		{
			return this.app.getSSN_JEFE_FAM_GBL ( ); // Global Variable
		}
		else if ( argName.equals ( "RMO_PAR" ) )
		{
			return this.app.getRMO_GBL ( ); // Global Variable
		}
		return null;
	}
}



/**
 *
 */
class SERV_NUCLEO_SERV_FRM_SERV_INFO_GP_Arguments extends JDataPanelGroupArguments
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_SERV_INFO_GP_Arguments ( Form form )
	{
		this.model = form;

		this.setArgName ( "COD_SERV_PAR" );
		this.setArgName ( "SSN_JEFE_FAM_PAR" );
		this.setArgName ( "SSN_JEFE_SERV_PAR" );
	}

	/**  */
	public Object getArgValue ( String argName )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		if ( argName == null )
		{
			return null;
		}
		else if ( argName.equals ( "COD_SERV_PAR" ) )
		{
			return this.app.getCOD_SERV_GBL ( ); // Global Variable
		}
		else if ( argName.equals ( "SSN_JEFE_FAM_PAR" ) )
		{
			return this.app.getSSN_JEFE_FAM_GBL ( ); // Global Variable
		}
		else if ( argName.equals ( "SSN_JEFE_SERV_PAR" ) )
		{
			return this.app.getSS_SERV_GBL ( ); // Global Variable
		}
		return null;
	}
}




/**
 *
 */
class SERV_NUCLEO_SERV_FRM_RMO_DIRProvider implements IObjectValueProvider
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_RMO_DIRProvider ( Form form )
	{
		this.model = form;
	}

	/**  */
	public Object getValue ( )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		return this.app.getRMO_GBL ( );
	}
}



/**
 *
 */
class SERV_NUCLEO_SERV_FRM_RMO_NUCLEOProvider implements IObjectValueProvider
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_RMO_NUCLEOProvider ( Form form )
	{
		this.model = form;
	}

	/**  */
	public Object getValue ( )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		return this.app.getRMO_GBL ( );
	}
}






/**
 *
 */
class SERV_NUCLEO_SERV_FRM_TOT_INGCalculator implements ICalculator
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_TOT_INGCalculator ( Form form )
	{
		this.model = form;
	}

	/**  */
	public void calculate ( )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		SERV_SUM_CLIENTE_ING_ADL.exec ( this.app, null );
	}
}



/**
 *
 */
class SERV_NUCLEO_SERV_FRM_TOT_RECCalculator implements ICalculator
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_TOT_RECCalculator ( Form form )
	{
		this.model = form;
	}

	/**  */
	public void calculate ( )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		SERV_SUM_CLIENTE_REC_ADL.exec ( this.app, null );
	}
}



/**
 *
 */
class SERV_NUCLEO_SERV_FRM_TOT_GASTCalculator implements ICalculator
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_TOT_GASTCalculator ( Form form )
	{
		this.model = form;
	}

	/**  */
	public void calculate ( )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		SERV_SUM_CLIENTE_GAST_ADL.exec ( this.app, null );
	}
}



/**
 *
 */
class SERV_NUCLEO_SERV_FRM_OTRA_LOCALCalculator implements ICalculator
{
	/**  */
	protected Form model;
	/**  */
	protected SAIC_DMQ_ORA_Application app = null;

	/**  */
	public SERV_NUCLEO_SERV_FRM_OTRA_LOCALCalculator ( Form form )
	{
		this.model = form;
	}

	/**  */
	public void calculate ( )
	{
		if ( this.app == null ) this.app = ( SAIC_DMQ_ORA_Application ) this.model.getApplication ( );
		NUCLEO_OTRA_LOCAL_ADL.exec ( this.app, null );
	}
}


