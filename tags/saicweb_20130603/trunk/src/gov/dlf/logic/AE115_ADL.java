package gov.dlf.logic;


import gov.dlf.external.*;
import gov.dlf.facade.*;
import gov.dlf.presentation.*;


import java.util.*;

import net.maintrend.appmanager.*;
import net.maintrend.datamanager.*;
import net.maintrend.interfaces.*;
import net.maintrend.interlink.*;
import net.maintrend.mdi.*;
import net.maintrend.rallyengine.*;
import net.maintrend.util.*;
import net.maintrend.util.format.*;



/**
 * __Comment
 *
 * Generated by Rally-to-Java Convertor. MainTrend Ltd.
 */
public class AE115_ADL
     extends ADL
{
  // -------------------------------------------------------------------
  // ----------   Class Attributes   -----------------------------------

  /**  */
  public static boolean staticCall = false;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes   --------------------------------

  /**  */
  public SAIC_DMQ_ORA_Application app;
  /**  */
  public RallyDataManager dm = null;



  // -------------------------------------------------------------------
  // ----------   Instance Condition Attributes   ----------------------

 

  // -------------------------------------------------------------------
  // ----------   Instance Export Attributes   -------------------------

  public double OPEN_ID = 0;

  public double STATUS_ID = 0;

  public double OPEN_ID2 = 0;

  public double STATUS_ID2 = 0;

  public double M1 = 0;

  public double M2 = 0;

  public double Y1 = 0;

  public double Y2 = 0;

  public double WSRMO = 0;

  public double TTL = 0;

  public double QTY = 0;

  public double NUM_NULL = 0;



  public String PCOD_SERVICIO = null;

  public Date WSDATE = null;

  public String WSREG = null;

  public String WSMUN = null;

  public String WSOFI = null;

  public DataStore RECLA_RETRO_TBL_NOPAR_DSD = null;

  public DataStore AE115_RECLA_RETRO_DSD = null;

  public DataStore AE115_RECAUDACIONES_DSD = null;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes' Access Methods   ----------------

  
  /**  */
  public static void setPCOD_SERVICIO  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).PCOD_SERVICIO = value.getString ( );
  }  

  
  /**  */
  public static void setOPEN_ID  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID = value.getDouble ( );
  }  

  
  /**  */
  public static void setSTATUS_ID  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID = value.getDouble ( );
  }  

  
  /**  */
  public static void setOPEN_ID2  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID2 = value.getDouble ( );
  }  

  
  /**  */
  public static void setSTATUS_ID2  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID2 = value.getDouble ( );
  }  

  
  /**  */
  public static void setWSDATE  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSDATE = value.getDate ( );
  }  

  
  /**  */
  public static void setM1  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M1 = value.getDouble ( );
  }  

  
  /**  */
  public static void setM2  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M2 = value.getDouble ( );
  }  

  
  /**  */
  public static void setY1  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y1 = value.getDouble ( );
  }  

  
  /**  */
  public static void setY2  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y2 = value.getDouble ( );
  }  

  
  /**  */
  public static void setWSRMO  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSRMO = value.getDouble ( );
  }  

  
  /**  */
  public static void setWSREG  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSREG = value.getString ( );
  }  

  
  /**  */
  public static void setWSMUN  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSMUN = value.getString ( );
  }  

  
  /**  */
  public static void setWSOFI  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSOFI = value.getString ( );
  }  

  
  /**  */
  public static void setTTL  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).TTL = value.getDouble ( );
  }  

  
  /**  */
  public static void setQTY  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).QTY = value.getDouble ( );
  }  

  
  /**  */
  public static void setNUM_NULL  ( RallyApplication __app, Parameter value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).NUM_NULL = value.getDouble ( );
  }  
    


  /**  */
  public static String getPCOD_SERVICIO  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).PCOD_SERVICIO;
  }


  /**  */
  public static void setPCOD_SERVICIO  ( RallyApplication __app, String value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).PCOD_SERVICIO = value;
  }


  /**  */
  public static void setPCOD_SERVICIO  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).PCOD_SERVICIO = ( String ) value;
  }



  /**  */
  public static Date getWSDATE  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSDATE;
  }


  /**  */
  public static void setWSDATE  ( RallyApplication __app, Date value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSDATE = value;
  }


  /**  */
  public static void setWSDATE  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSDATE = ( Date ) value;
  }



  /**  */
  public static String getWSREG  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSREG;
  }


  /**  */
  public static void setWSREG  ( RallyApplication __app, String value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSREG = value;
  }


  /**  */
  public static void setWSREG  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSREG = ( String ) value;
  }



  /**  */
  public static String getWSMUN  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSMUN;
  }


  /**  */
  public static void setWSMUN  ( RallyApplication __app, String value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSMUN = value;
  }


  /**  */
  public static void setWSMUN  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSMUN = ( String ) value;
  }



  /**  */
  public static String getWSOFI  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSOFI;
  }


  /**  */
  public static void setWSOFI  ( RallyApplication __app, String value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSOFI = value;
  }


  /**  */
  public static void setWSOFI  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSOFI = ( String ) value;
  }



  /**  */
  public static DataStore getRECLA_RETRO_TBL_NOPAR_DSD  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).RECLA_RETRO_TBL_NOPAR_DSD;
  }


  /**  */
  public static void setRECLA_RETRO_TBL_NOPAR_DSD  ( RallyApplication __app, DataStore value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).RECLA_RETRO_TBL_NOPAR_DSD = value;
  }


  /**  */
  public static void setRECLA_RETRO_TBL_NOPAR_DSD  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).RECLA_RETRO_TBL_NOPAR_DSD = ( DataStore ) value;
  }



  /**  */
  public static DataStore getAE115_RECLA_RETRO_DSD  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).AE115_RECLA_RETRO_DSD;
  }


  /**  */
  public static void setAE115_RECLA_RETRO_DSD  ( RallyApplication __app, DataStore value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).AE115_RECLA_RETRO_DSD = value;
  }


  /**  */
  public static void setAE115_RECLA_RETRO_DSD  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).AE115_RECLA_RETRO_DSD = ( DataStore ) value;
  }



  /**  */
  public static DataStore getAE115_RECAUDACIONES_DSD  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).AE115_RECAUDACIONES_DSD;
  }


  /**  */
  public static void setAE115_RECAUDACIONES_DSD  ( RallyApplication __app, DataStore value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).AE115_RECAUDACIONES_DSD = value;
  }


  /**  */
  public static void setAE115_RECAUDACIONES_DSD  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).AE115_RECAUDACIONES_DSD = ( DataStore ) value;
  }




  /**  */
  public static double getOPEN_ID  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID;
  }


  /**  */
  public static Double getOPEN_IDDouble ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID );
  }


  /**  */
  public static void setOPEN_ID  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID = value;
  }


  /**  */
  public static void setOPEN_ID  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getSTATUS_ID  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID;
  }


  /**  */
  public static Double getSTATUS_IDDouble ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID );
  }


  /**  */
  public static void setSTATUS_ID  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID = value;
  }


  /**  */
  public static void setSTATUS_ID  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getOPEN_ID2  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID2;
  }


  /**  */
  public static Double getOPEN_ID2Double ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID2 );
  }


  /**  */
  public static void setOPEN_ID2  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID2 = value;
  }


  /**  */
  public static void setOPEN_ID2  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).OPEN_ID2 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getSTATUS_ID2  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID2;
  }


  /**  */
  public static Double getSTATUS_ID2Double ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID2 );
  }


  /**  */
  public static void setSTATUS_ID2  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID2 = value;
  }


  /**  */
  public static void setSTATUS_ID2  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).STATUS_ID2 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getM1  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M1;
  }


  /**  */
  public static Double getM1Double ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M1 );
  }


  /**  */
  public static void setM1  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M1 = value;
  }


  /**  */
  public static void setM1  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M1 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getM2  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M2;
  }


  /**  */
  public static Double getM2Double ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M2 );
  }


  /**  */
  public static void setM2  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M2 = value;
  }


  /**  */
  public static void setM2  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).M2 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getY1  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y1;
  }


  /**  */
  public static Double getY1Double ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y1 );
  }


  /**  */
  public static void setY1  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y1 = value;
  }


  /**  */
  public static void setY1  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y1 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getY2  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y2;
  }


  /**  */
  public static Double getY2Double ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y2 );
  }


  /**  */
  public static void setY2  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y2 = value;
  }


  /**  */
  public static void setY2  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).Y2 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getWSRMO  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSRMO;
  }


  /**  */
  public static Double getWSRMODouble ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSRMO );
  }


  /**  */
  public static void setWSRMO  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSRMO = value;
  }


  /**  */
  public static void setWSRMO  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).WSRMO = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getTTL  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).TTL;
  }


  /**  */
  public static Double getTTLDouble ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).TTL );
  }


  /**  */
  public static void setTTL  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).TTL = value;
  }


  /**  */
  public static void setTTL  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).TTL = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getQTY  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).QTY;
  }


  /**  */
  public static Double getQTYDouble ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).QTY );
  }


  /**  */
  public static void setQTY  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).QTY = value;
  }


  /**  */
  public static void setQTY  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).QTY = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getNUM_NULL  ( RallyApplication __app )
  {
    return ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).NUM_NULL;
  }


  /**  */
  public static Double getNUM_NULLDouble ( RallyApplication __app )
  {
    return new Double ( ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).NUM_NULL );
  }


  /**  */
  public static void setNUM_NULL  ( RallyApplication __app, double value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).NUM_NULL = value;
  }


  /**  */
  public static void setNUM_NULL  ( RallyApplication __app, Object value )
  {
    ( ( AE115_ADL ) __app.getADL ( AE115_ADL.class ) ).NUM_NULL = ( ( Double ) value ).doubleValue ( );
  }



  // -------------------------------------------------------------------
  // ----------   Methods   --------------------------------------------

  /**
   * 
   * @param __app
   * @return
   */
  public static AE115_ADL get ( RallyApplication __app )
  {
    AE115_ADL adl = new AE115_ADL ( );
    __app.register ( adl, "AE115_ADL" );
    __app.setADL ( AE115_ADL.class, adl ); 
    adl.setApplication ( __app );
    return adl;
  }


  /**
   *
   * @param __app
   * @param ps
   *
   * @return
   */
  public static void exec ( RallyApplication __app, ParameterSet ps )
  {
    AE115_ADL.get ( __app ).process ( ps );
  }


  /**
   *
   * @param __app
   *
   * @return
   */
  public static void exec ( RallyApplication __app )
  {
    ParameterSet ps = null;
    AE115_ADL.exec ( __app, ps );
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param __app
   */
  public void setApplication ( RallyApplication __app )
  {
    this.app = ( SAIC_DMQ_ORA_Application ) __app;
    if ( this.app != null )
    {
      this.dm = ( RallyDataManager ) this.app.getDataManager ( );
    }
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param parms
   */
  public void execute ( ParameterSet parms )
  {
    this.process ( parms );
  }


  /**
   * Populating the parameter set object with return values
   */
  protected void returnParms ( ParameterSet ps, String PCOD_SERVICIO )
  {
    ps.reset ( );
    ps.set ( PCOD_SERVICIO );
  }




  /**
   *
   */
  protected void doReturn ( )
  {
    this.unregister ( );
  }


  /**
   *
   */
  public void unregister ( )
  {
    this.app.unregister ( this );
    IRegisteredObject rObj = this.app.get ( "AE115_ADL" );
    if ( rObj != null && rObj instanceof AE115_ADL )
    {
      this.app.setADL ( AE115_ADL.class, ( AE115_ADL ) rObj );
    }
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param ps
   */
  protected void process ( ParameterSet ps )
  {
    Debug.println ( Debug.TRACE, "AE115_ADL Step " + this.currentStep );
    super.process ( ps );
    switch ( this.currentStep ) 
    {
      case 0:  { this.currentStep ++; this.step0 ( this.keyParms ); break; }
      default: 
      { 
        this.currentStep = 0;
        Debug.println ( Debug.TRACE, "AE115_ADL ended" );
        this.unregister ( );
        break;
      }
    }
    if ( this.currentStep > 0 ) this.app.goOn ( );
  }



  /**
   *
   */
  protected void step0 ( ParameterSet ps )
  {
    ps.reset ( );
    PCOD_SERVICIO = ps.getString( );

    NUM_NULL = TruncService.setNull ( NUM_NULL  );
    WSDATE = RallySpanishDatesParser.parseDateString ( "01-" + this.app.form ( "GET_AE115_FR" ).getStringItem ( "MMYY" ));
    this.app.FCH_INICIO_GBL = WSDATE;
    this.app.FCH_FINAL_GBL = MathService.plus ( TruncService.lastDay ( this.app.FCH_INICIO_GBL ) , 1  );
    M1 = FormattingFactory.parseStringToDouble ( StringService.toStringValue  ( WSDATE ,"mm" ,StringService.Language.SPANISH ) );
    Y1 = FormattingFactory.parseStringToDouble ( StringService.toStringValue  ( WSDATE ,"yyyy" ,StringService.Language.SPANISH ) );
    RECLA_RETRO_TBL_NOPAR_DSD = this.dm.create ( "RECLA_RETRO_TBL_NOPAR_DSD" );
    OPEN_ID2 = RECLA_RETRO_TBL_NOPAR_DSD.getId ( );
    STATUS_ID2 = RallyDataStoreException.getDefault ( );
    if ( ! Compare.equals ( STATUS_ID2, 0 ) ) 
    {
      this.app.setError ( 0, STATUS_ID2 );
      this.returnParms ( ps, PCOD_SERVICIO ); 
      this.doReturn ( ); 
      return;
    }
    AE115_RECLA_RETRO_DSD = this.dm.create ( "AE115_RECLA_RETRO_DSD" );
    OPEN_ID = AE115_RECLA_RETRO_DSD.getId ( );
    STATUS_ID = RallyDataStoreException.getDefault ( );
    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      this.app.setError ( 1, STATUS_ID );
      this.returnParms ( ps, PCOD_SERVICIO ); 
      this.doReturn ( );
      return;
    }

    STATUS_ID  = this.dm.reset ( OPEN_ID );

    this.dm.setField ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "COD_SERVICIO", PCOD_SERVICIO );
    this.dm.setField ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS_AUTORIZACION", "AUTO" );
    this.dm.setField ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "RMO_OFICINA", this.app.RMO_GBL );

    STATUS_ID  = this.dm.limitQueryFromBuffer ( OPEN_ID );
    STATUS_ID  = this.dm.retrieve ( OPEN_ID );

    STATUS_ID  = this.dm.firstRow ( OPEN_ID );

    while ( Compare.equals ( STATUS_ID, 0 ) ) 
    {
      WSRMO = this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "RMO_OFICINA" );
      if ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "ACCION" ), "RECL" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "ACCION" ), "RREC" ) ) ) 
      {
        if ( ( Compare.gt ( WSDATE, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) ) && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), "REDETERM" ) )  && ( ! Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), 0, 4 ), "SALD" ) )  && ( ! Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), 0, 6 ), "NOPROC" ) )  ) 
        {
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "PVIN" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N1AVN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AVN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N1AVV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AVV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "ENOI" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N1APN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1APN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N1APV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1APV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "EADM" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N1AAN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AAN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N1AAV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AAV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
        }
        if ( ( Compare.le ( this.app.FCH_INICIO_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) ) && ( Compare.gt ( this.app.FCH_FINAL_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), "REDETERM" ) )  && ( ! Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), 0, 6 ), "NOPROC" ) )  ) 
        {
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "PVIN" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N2VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N2VN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N2VV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N2VV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "ENOI" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N2PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N2PN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N2PV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N2PV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "EADM" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N2AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N2AN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N2AV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N2AV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
        }
        if ( ( Compare.le ( this.app.FCH_INICIO_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) ) && ( Compare.gt ( this.app.FCH_FINAL_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) )  && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), 0, 4 ), "SALD" ) )  ) 
        {
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "PVIN" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N9VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9VN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N9VV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9VV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "ENOI" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N9PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9PN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N9PV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9PV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "EADM" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N9AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9AN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N9AV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9AV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
        }
        if ( ( Compare.le ( this.app.FCH_INICIO_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) ) && ( Compare.gt ( this.app.FCH_FINAL_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "FECHA_AUTORIZADO" ) ) )  && ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "STATUS" ), "INCOBRA" ) )  ) 
        {
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "PVIN" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N10VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N10VN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N10VV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N10VV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "ENOI" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N10PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N10PN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N10PV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N10PV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "EADM" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N10AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N10AN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N10AV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N10AV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "VLR_BALANCE" )  )  );
            }
          }
        }
      }

      STATUS_ID2  = this.dm.reset ( OPEN_ID2 );

      this.dm.setField ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "COD_SERVICIO", PCOD_SERVICIO );
      this.dm.setField ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "STATUS_AUTORIZACION", "AUTO" );
      this.dm.setField ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "SEGURO_SOCIAL_JEFE_FAM", this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "SEGURO_SOCIAL_JEFE_FAM" ) );
      this.dm.setField ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "SEGURO_SOCIAL_JEFE_SERV", this.dm.getFieldDouble ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "SEGURO_SOCIAL_JEFE_SERV" ) );
      this.dm.setField ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "RMO_OFICINA", this.app.RMO_GBL );

      STATUS_ID2  = this.dm.limitQueryFromBuffer ( OPEN_ID2 );
      STATUS_ID2  = this.dm.retrieve ( OPEN_ID2 );

      STATUS_ID2  = this.dm.firstRow ( OPEN_ID2 );

      while ( Compare.equals ( STATUS_ID2, 0 ) ) 
      {
        if ( ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "ACCION" ), "RETR" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "ACCION" ), "RRET" ) ) ) && ( Compare.le ( this.app.FCH_INICIO_GBL, this.dm.getFieldDate ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "FECHA_AUTORIZADO" ) ) )  && ( Compare.gt ( this.app.FCH_FINAL_GBL, this.dm.getFieldDate ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "FECHA_AUTORIZADO" ) ) )  && ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "STATUS" ), "COMPRECL" ) )  ) 
        {
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "PVIN" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N7VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N7VN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N7VV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N7VV" ), ( MathService.minus ( this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "CANTIDAD_RECLA_RETRO" ), this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "VLR_BALANCE" )  ) )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "ENOI" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N7PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N7PN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N7PV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N7PV" ), ( MathService.minus ( this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "CANTIDAD_RECLA_RETRO" ), this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "VLR_BALANCE" )  ) )  )  );
            }
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECLA_RETRO_DSD" ), "CLASIFICACION_RECLA" ), "EADM" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N7AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N7AN" ), 1  )  );
            if ( ! Compare.equals ( this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "VLR_BALANCE" ), NUM_NULL ) ) 
            {
              this.app.form ( "AE115_FR" ).setItem ( "N7AV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N7AV" ), ( MathService.minus ( this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "CANTIDAD_RECLA_RETRO" ), this.dm.getFieldDouble ( this.dm.get ( "RECLA_RETRO_TBL_NOPAR_DSD" ), "VLR_BALANCE" )  ) )  )  );
            }
          }
        }

        STATUS_ID2  = this.dm.nextRow ( OPEN_ID2 );

      }

      STATUS_ID  = this.dm.nextRow ( OPEN_ID );

    }
    STATUS_ID  = this.dm.dbClose ( OPEN_ID );

    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      this.app.setError ( 2, STATUS_ID );
      this.returnParms ( ps, PCOD_SERVICIO ); 
      this.doReturn ( );
      return;
    }
    STATUS_ID2  = this.dm.dbClose ( OPEN_ID2 );

    if ( ! Compare.equals ( STATUS_ID2, 0 ) ) 
    {
      this.app.setError ( 3, STATUS_ID2 );
      this.returnParms ( ps, PCOD_SERVICIO ); 
      this.doReturn ( );
      return;
    }
    AE115_RECAUDACIONES_DSD = this.dm.create ( "AE115_RECAUDACIONES_DSD" );
    OPEN_ID = AE115_RECAUDACIONES_DSD.getId ( );
    STATUS_ID = RallyDataStoreException.getDefault ( );
    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      this.app.setError ( 4, STATUS_ID );
      this.returnParms ( ps, PCOD_SERVICIO ); 
      this.doReturn ( ); 
      return;
    }

    STATUS_ID  = this.dm.reset ( OPEN_ID );

    this.dm.setField ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "COD_SERVICIO", PCOD_SERVICIO );
    this.dm.setField ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "RMO_OFICINA", this.app.RMO_GBL );

    STATUS_ID  = this.dm.limitQueryFromBuffer ( OPEN_ID );
    STATUS_ID  = this.dm.retrieve ( OPEN_ID );

    STATUS_ID  = this.dm.firstRow ( OPEN_ID );

    while ( Compare.equals ( STATUS_ID, 0 ) ) 
    {
      if ( ( Compare.le ( this.app.FCH_INICIO_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "FCH_PAGO" ) ) ) && ( Compare.gt ( this.app.FCH_FINAL_GBL, this.dm.getFieldDate ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "FCH_PAGO" ) ) )  ) 
      {
        if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "CLASIFICACION_RECLA" ), "PVIN" ) ) 
        {
          if ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "GIRO" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "CHEQ" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "EFEC" ) ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N5VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5VN" ), 1  )  );
            this.app.form ( "AE115_FR" ).setItem ( "N5VV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5VV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "VLR_CANTIDAD" )  )  );
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "REDU" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N6VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N6VN" ), 1  )  );
            this.app.form ( "AE115_FR" ).setItem ( "N6VV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N6VV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "VLR_CANTIDAD" )  )  );
          }
        }
        if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "CLASIFICACION_RECLA" ), "ENOI" ) ) 
        {
          if ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "GIRO" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "CHEQ" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "EFEC" ) ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N5PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5PN" ), 1  )  );
            this.app.form ( "AE115_FR" ).setItem ( "N5PV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5PV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "VLR_CANTIDAD" )  )  );
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "REDU" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N6PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N6PN" ), 1  )  );
            this.app.form ( "AE115_FR" ).setItem ( "N6PV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N6PV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "VLR_CANTIDAD" )  )  );
          }
        }
        if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "CLASIFICACION_RECLA" ), "EADM" ) ) 
        {
          if ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "GIRO" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "CHEQ" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "EFEC" ) ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N5AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5AN" ), 1  )  );
            this.app.form ( "AE115_FR" ).setItem ( "N5AV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5AV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "VLR_CANTIDAD" )  )  );
          }
          if ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "MODO_PAGO" ), "REDU" ) ) 
          {
            this.app.form ( "AE115_FR" ).setItem ( "N6AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N6AN" ), 1  )  );
            this.app.form ( "AE115_FR" ).setItem ( "N6AV", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N6AV" ), this.dm.getFieldDouble ( this.dm.get ( "AE115_RECAUDACIONES_DSD" ), "VLR_CANTIDAD" )  )  );
          }
        }
      }

      STATUS_ID  = this.dm.nextRow ( OPEN_ID );

    }
    STATUS_ID  = this.dm.dbClose ( OPEN_ID );

    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      this.app.setError ( 5, STATUS_ID );
      this.returnParms ( ps, PCOD_SERVICIO ); 
      this.doReturn ( );
      return;
    }
    this.app.form ( "AE115_FR" ).setItem ( "N4VN", MathService.plus ( MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AVN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N1BVN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N2VN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N3VN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N4VV", MathService.plus ( MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AVV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N1BVV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N2VV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N3VV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N4PN", MathService.plus ( MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1APN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N1BPN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N2PN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N3PN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N4PV", MathService.plus ( MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1APV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N1BPV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N2PV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N3PV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N4AN", MathService.plus ( MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AAN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N1BAN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N2AN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N3AN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N4AV", MathService.plus ( MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N1AAV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N1BAV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N2AV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N3AV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N8VN", MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5VN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N6VN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N7VN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N8VV", MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5VV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N6VV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N7VV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N8PN", MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5PN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N6PN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N7PN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N8PV", MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5PV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N6PV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N7PV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N8AN", MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5AN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N6AN" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N7AN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N8AV", MathService.plus ( MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N5AV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N6AV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N7AV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N11VN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9VN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N10VN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N11VV", this.app.form ( "AE115_FR" ).getDoubleItem ( "N10VV" ) );
    this.app.form ( "AE115_FR" ).setItem ( "N11PN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9PN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N10PN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N11PV", this.app.form ( "AE115_FR" ).getDoubleItem ( "N10PV" ) );
    this.app.form ( "AE115_FR" ).setItem ( "N11AN", MathService.plus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N9AN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N10AN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N11AV", this.app.form ( "AE115_FR" ).getDoubleItem ( "N10AV" ) );
    this.app.form ( "AE115_FR" ).setItem ( "N12VN", MathService.minus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N4VN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N11VN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N12VV", MathService.minus ( MathService.minus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N4VV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N8VV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N11VV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N12PN", MathService.minus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N4PN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N11PN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N12PV", MathService.minus ( MathService.minus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N4PV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N8PV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N11PV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N12AN", MathService.minus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N4AN" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N11AN" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "N12AV", MathService.minus ( MathService.minus ( this.app.form ( "AE115_FR" ).getDoubleItem ( "N4AV" ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N8AV" ) ), this.app.form ( "AE115_FR" ).getDoubleItem ( "N11AV" ) )  );
    this.app.form ( "AE115_FR" ).setItem ( "MMYY", this.app.form ( "GET_AE115_FR" ).getStringItem ( "MMYY" ) );
    this.app.form ( "AE115_FR" ).setItem ( "REGION", this.app.REG_GBL  );
    this.app.form ( "AE115_FR" ).setItem ( "COD_SERVICIO", PCOD_SERVICIO  );
    if ( Compare.equals ( PCOD_SERVICIO, "PAN" ) ) 
    {
      this.app.form ( "AE115_FR" ).setItem ( "HDTXT1", "AN-109A"  );
      this.app.form ( "AE115_FR" ).setItem ( "HDTXT2", "NUTRICIONAL"  );
    }
    else
    {
      this.app.form ( "AE115_FR" ).setItem ( "HDTXT1", "AE115"  );
      this.app.form ( "AE115_FR" ).setItem ( "HDTXT2", "ECONOMICA"  );
    }
    this.returnParms ( ps, PCOD_SERVICIO );

  }
}



/* ---------------------------------------------------------------------


     
procedure ae115_adl(var Pcod_servicio:CHAR(4););
var     open_id         :       number (9,0);
        status_id       :       number (9,0);
        open_id2        :       number (9,0);
        status_id2      :       number (9,0);
        wsdate  :       date;
        m1      :       number (2,0);
        m2      :       number (2,0);
        y1      :       number (4,0);
        y2      :       number (4,0);
        wsrmo   :       number (15,0);
        wsreg   :       char(15) export;
        wsmun   :       char(15) export;
        wsofi   :       char(15) export;
        ttl     :       number;
        qty     :       number (9,2);
        NUM_NULL:       NUMBER;
begin
SET_TRACE();
{determinar la fecha de parametro}
BEGIN
        MAKE_NULL(NUM_NULL);
        wsdate := to_date('01-'||get_ae115_fr.mmyy);
        fch_inicio_gbl:=  wsdate;
        fch_final_gbl := last_day(fch_inicio_gbl)+1;
end;
m1 := to_number(to_char(wsdate,'mm'));
y1 := to_number(to_char(wsdate,'yyyy'));
{vamos a abrir recla_retro para un procesamiento secuencial}
db_open(RECLA_RETRO_TBL_NOPAR_DSD,open_id2,status_id2);
if status_id2 <> 0
then
        begin
                error(status_id2);
                return;
        end;
{endif}
db_open(ae115_recla_retro_dsd,open_id,status_id);
if status_id <> 0
then
        begin
                error(status_id);
                return;
        end;
{endif}
db_reset(open_id,status_id);
ae115_recla_retro_dsd.cod_servicio := PCOD_SERVICIO;
ae115_recla_retro_dsd.status_autorizacion := 'AUTO';
AE115_RECLA_RETRO_DSD.RMO_OFICINA := RMO_GBL;
db_query(open_id,status_id);
db_get_first(open_id,status_id);
while (status_id = 0) do
begin
 wsrmo := ae115_recla_retro_DSD.RMO_OFICINA;

 if ( ae115_recla_retro_dsd.accion = 'RECL') OR
    ( ae115_recla_retro_dsd.accion = 'RREC') THEN
 BEGIN
   if ( WSDATE > AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
            (ae115_recla_retro_dsd.status <> 'REDETERM') AND
            (SUBSTR(ae115_recla_retro_dsd.status,0,4) <> 'SALD') AND 
            (SUBSTR(ae115_recla_retro_dsd.status,0,6) <> 'NOPROC') 

 THEN
    BEGIN 
         if (ae115_recla_retro_dsd.clasificacion_recla = 'PVIN')
         then
                begin
                        ae115_fr.n1avn := ae115_fr.n1avn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n1avv := ae115_fr.n1avv + ae115_recla_retro_dsd
.vlr_balance;
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'ENOI')
         then
                begin
                        ae115_fr.n1apn := ae115_fr.n1apn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n1apv := ae115_fr.n1apv + ae115_recla_retro_dsd
.vlr_balance;
                end;
         {endif}                

         if (ae115_recla_retro_dsd.clasificacion_recla = 'EADM') 
         then
                begin
                        ae115_fr.n1aan := ae115_fr.n1aan + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n1aav := ae115_fr.n1aav + ae115_recla_retro_dsd
.vlr_balance;
                end;
         {endif}                
   END;

 if ( fch_inicio_gbl <= AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
    ( fch_final_gbl > AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
    ( AE115_recla_retro_dsd.status <> 'REDETERM') AND
    (SUBSTR(ae115_recla_retro_dsd.status,0,6) <> 'NOPROC') THEN
    BEGIN

         if (ae115_recla_retro_dsd.clasificacion_recla = 'PVIN') 
         then
                begin
                        ae115_fr.n2vn := ae115_fr.n2vn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n2vv := ae115_fr.n2vv + ae115_recla_retro_dsd.v
lr_balance;
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'ENOI') 
         then
                begin
                        ae115_fr.n2pn := ae115_fr.n2pn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n2pv := ae115_fr.n2pv + ae115_recla_retro_dsd.v
lr_balance;
                end;
         {endif}                

         if (ae115_recla_retro_dsd.clasificacion_recla = 'EADM')
         then
                begin
                        ae115_fr.n2an := ae115_fr.n2an + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n2av := ae115_fr.n2av + ae115_recla_retro_dsd.v
lr_balance;
                end;
         {endif}                
    END;

 if ( fch_inicio_gbl <= AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
    ( fch_final_gbl > AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
    (SUBSTR(ae115_recla_retro_dsd.status,0,4) = 'SALD') THEN
    BEGIN 
         if (ae115_recla_retro_dsd.clasificacion_recla = 'PVIN') 
         then
                begin
                        ae115_fr.n9vn := ae115_fr.n9vn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n9vv := ae115_fr.n9vv + ae115_recla_retro_dsd.v
lr_balance;
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'ENOI') 
         then
                begin
                        ae115_fr.n9pn := ae115_fr.n9pn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n9pv := ae115_fr.n9pv + ae115_recla_retro_dsd.v
lr_balance;
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'EADM') 
         then
                begin
                        ae115_fr.n9an := ae115_fr.n9an + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n9av := ae115_fr.n9av + ae115_recla_retro_dsd.v
lr_balance;
                end;
         {endif}                
   END;

 if ( fch_inicio_gbl <= AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
    ( fch_final_gbl > AE115_RECLA_RETRO_DSD.FECHA_AUTORIZADO) AND
    (ae115_recla_retro_dsd.status = 'INCOBRA') THEN
    BEGIN 
         if (ae115_recla_retro_dsd.clasificacion_recla = 'PVIN') 
         then
                begin
                        ae115_fr.n10vn := ae115_fr.n10vn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n10vv := ae115_fr.n10vv + ae115_recla_retro_dsd
.vlr_balance;
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'ENOI') 
         then
                begin
                        ae115_fr.n10pn := ae115_fr.n10pn + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n10pv := ae115_fr.n10pv + ae115_recla_retro_dsd
.vlr_balance;
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'EADM') 
         then
                begin
                        ae115_fr.n10an := ae115_fr.n10an + 1;
                        IF ae115_recla_retro_dsd.vlr_balance <> NUM_NULL THEN
                        ae115_fr.n10av := ae115_fr.n10av + ae115_recla_retro_dsd
.vlr_balance;
                end;
         {endif}                
   END;
  END;

db_reset(open_id2,status_id2);
RECLA_RETRO_TBL_NOPAR_DSD.COD_SERVICIO := PCOD_SERVICIO;
RECLA_RETRO_TBL_NOPAR_DSD.status_autorizacion := 'AUTO';
RECLA_RETRO_TBL_NOPAR_DSD.SEGURO_SOCIAL_JEFE_FAM := AE115_RECLA_RETRO_DSD.SEGURO
_SOCIAL_JEFE_FAM;
RECLA_RETRO_TBL_NOPAR_DSD.SEGURO_SOCIAL_JEFE_SERV := AE115_RECLA_RETRO_DSD.SEGUR
O_SOCIAL_JEFE_SERV;
RECLA_RETRO_TBL_NOPAR_DSD.RMO_OFICINA := RMO_GBL;
db_query(open_id2,status_id2);
db_get_first(open_id2,status_id2);
while (status_id2 = 0) do
begin

 if (( RECLA_RETRO_TBL_NOPAR_DSD.accion = 'RETR') OR
     ( RECLA_RETRO_TBL_NOPAR_DSD.accion = 'RRET')) AND
    ( fch_inicio_gbl <= RECLA_RETRO_TBL_NOPAR_DSD.FECHA_AUTORIZADO) AND
    ( fch_final_gbl > RECLA_RETRO_TBL_NOPAR_DSD.FECHA_AUTORIZADO) AND
    (RECLA_RETRO_TBL_NOPAR_DSD.status = 'COMPRECL') THEN
      BEGIN
         if (ae115_recla_retro_dsd.clasificacion_recla = 'PVIN') 
         then
                begin
                        ae115_fr.n7vn := ae115_fr.n7vn + 1;
                        IF RECLA_RETRO_TBL_NOPAR_DSD.vlr_balance <> NUM_NULL THE
N
                        ae115_fr.n7vv := ae115_fr.n7vv +(RECLA_RETRO_TBL_NOPAR_D
SD.CANTIDAD_RECLA_RETRO-RECLA_RETRO_TBL_NOPAR_DSD.vlr_balance);
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'ENOI') 
         then
                begin
                        ae115_fr.n7pn := ae115_fr.n7pn + 1;
                        IF RECLA_RETRO_TBL_NOPAR_DSD.vlr_balance <> NUM_NULL THE
N
                        ae115_fr.n7pv := ae115_fr.n7pv + (RECLA_RETRO_TBL_NOPAR_
DSD.CANTIDAD_RECLA_RETRO-RECLA_RETRO_TBL_NOPAR_DSD.vlr_balance);
                end;
         {endif}                
         if (ae115_recla_retro_dsd.clasificacion_recla = 'EADM') 
         then
                begin
                        ae115_fr.n7an := ae115_fr.n7an + 1;
                        IF RECLA_RETRO_TBL_NOPAR_DSD.vlr_balance <> NUM_NULL THE
N
                        ae115_fr.n7av := ae115_fr.n7av + (RECLA_RETRO_TBL_NOPAR_
DSD.CANTIDAD_RECLA_RETRO-RECLA_RETRO_TBL_NOPAR_DSD.vlr_balance);
                end;
         {endif}                
      END;
         db_get_next(open_id2,status_id2);
   END;
  db_get_next(open_id,status_id);
end;
db_close(open_id,status_id);
if status_id <> 0
then
        begin
                error(status_id);
                return;
        end;
{endif} 
{}
db_close(open_id2,status_id2);
if status_id2 <> 0
then
        begin
                error(status_id2);
                return;
        end;
{endif}         
{}
{vamos a abrir recaudaciones para un procesamiento secuencial}
db_open(ae115_recaudaciones_dsd,open_id,status_id);
if status_id <> 0
then
        begin
                error(status_id);
                return;
        end;
{endif}

db_reset(open_id,status_id);
ae115_recaudaciones_dsd.cod_servicio := PCOD_SERVICIO;
AE115_RECAUDACIONES_DSD.RMO_OFICINA := RMO_GBL;
db_query(open_id,status_id);
db_get_first(open_id,status_id);
while (status_id = 0) do
begin
 if ( fch_inicio_gbl <= AE115_RECAUDACIONES_DSD.FCH_PAGO) AND
    ( fch_final_gbl > AE115_RECAUDACIONES_DSD.FCH_PAGO) THEN
    BEGIN
         if (ae115_recaudaciones_dsd.clasificacion_recla = 'PVIN')
         then
                begin
                   IF (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'GIRO') OR
                      (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'CHEQ') OR
                      (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'EFEC') 
                   THEN
                      BEGIN 
                        ae115_fr.n5vn := ae115_fr.n5vn + 1;
                        ae115_fr.n5vv := ae115_fr.n5vv + ae115_recaudaciones_dsd
.vlr_cantidad;
                      END;

                   IF (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'REDU') 
                   THEN
                      BEGIN 
                        ae115_fr.n6vn := ae115_fr.n6vn + 1;
                        ae115_fr.n6vv := ae115_fr.n6vv + ae115_recaudaciones_dsd
.vlr_cantidad;
                      END;

                end;
         {endif}                
         if (ae115_recaudaciones_dsd.clasificacion_recla = 'ENOI')
         then
                begin
                   IF (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'GIRO') OR
                      (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'CHEQ') OR
                      (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'EFEC') 
                   THEN
                      BEGIN 
                        ae115_fr.n5pn := ae115_fr.n5pn + 1;
                        ae115_fr.n5pv := ae115_fr.n5pv + ae115_recaudaciones_dsd
.vlr_cantidad;
                      END;
                   IF (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'REDU') 
                   THEN
                      BEGIN 
                        ae115_fr.n6pn := ae115_fr.n6pn + 1;
                        ae115_fr.n6pv := ae115_fr.n6pv + ae115_recaudaciones_dsd
.vlr_cantidad;
                      END;
                end;
         {endif}                
         if (ae115_recaudaciones_dsd.clasificacion_recla = 'EADM')
         then
                begin
                   IF (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'GIRO') OR
                      (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'CHEQ') OR
                      (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'EFEC') 
                   THEN
                      BEGIN 
                        ae115_fr.n5an := ae115_fr.n5an + 1;
                        ae115_fr.n5av := ae115_fr.n5av + ae115_recaudaciones_dsd
.vlr_cantidad;
                      END;
                   IF (AE115_RECAUDACIONES_DSD.MODO_PAGO = 'REDU') 
                   THEN
                      BEGIN 
                        ae115_fr.n6an := ae115_fr.n6an + 1;
                        ae115_fr.n6av := ae115_fr.n6av + ae115_recaudaciones_dsd
.vlr_cantidad;
                      END;
                end;
         {endif}                
  END;
  db_get_next(open_id,status_id);
end;
db_close(open_id,status_id);
if status_id <> 0
then
        begin
                error(status_id);
                return;
        end;
{endif}
{}
{vamos a generar subtotal - 1}
{}
ae115_fr.n4vn := ae115_fr.n1avn + ae115_fr.n1bvn + ae115_fr.n2vn + ae115_fr.n3vn
;
ae115_fr.n4vv := ae115_fr.n1avv + ae115_fr.n1bvv + ae115_fr.n2vv + ae115_fr.n3vv
;
ae115_fr.n4pn := ae115_fr.n1apn + ae115_fr.n1bpn + ae115_fr.n2pn + ae115_fr.n3pn
;
ae115_fr.n4pv := ae115_fr.n1apv + ae115_fr.n1bpv + ae115_fr.n2pv + ae115_fr.n3pv
;
ae115_fr.n4an := ae115_fr.n1aan + ae115_fr.n1ban + ae115_fr.n2an + ae115_fr.n3an
;
ae115_fr.n4av := ae115_fr.n1aav + ae115_fr.n1bav + ae115_fr.n2av + ae115_fr.n3av
;

{}
{vamos a generar subtotal-2}
{}
ae115_fr.n8vn := ae115_fr.n5vn + ae115_fr.n6vn + ae115_fr.n7vn;
ae115_fr.n8vv := ae115_fr.n5vv + ae115_fr.n6vv + ae115_fr.n7vv;
ae115_fr.n8pn := ae115_fr.n5pn + ae115_fr.n6pn + ae115_fr.n7pn;
ae115_fr.n8pv := ae115_fr.n5pv + ae115_fr.n6pv + ae115_fr.n7pv;
ae115_fr.n8an := ae115_fr.n5an + ae115_fr.n6an + ae115_fr.n7an;
ae115_fr.n8av := ae115_fr.n5av + ae115_fr.n6av + ae115_fr.n7av;

{}
{vamos a generar subtotal-3}
{}
ae115_fr.n11vn := ae115_fr.n9vn + ae115_fr.n10vn;
ae115_fr.n11vv :=  ae115_fr.n10vv;
ae115_fr.n11pn := ae115_fr.n9pn + ae115_fr.n10pn;
ae115_fr.n11pv := ae115_fr.n10pv;
ae115_fr.n11an := ae115_fr.n9an + ae115_fr.n10an;
ae115_fr.n11av := ae115_fr.n10av;

{}
{vamos a generar el balance de reclamaciones}
{}
ae115_fr.n12vn := ae115_fr.n4vn  - ae115_fr.n11vn;
ae115_fr.n12vv := ae115_fr.n4vv - ae115_fr.n8vv - ae115_fr.n11vv;
ae115_fr.n12pn := ae115_fr.n4pn - ae115_fr.n11pn;
ae115_fr.n12pv := ae115_fr.n4pv - ae115_fr.n8pv - ae115_fr.n11pv;
ae115_fr.n12an := ae115_fr.n4an - ae115_fr.n11an;
ae115_fr.n12av := ae115_fr.n4av - ae115_fr.n8av - ae115_fr.n11av;
{}

ae115_fr.mmyy := get_ae115_fr.mmyy;
ae115_fr.region := REG_GBL;
ae115_fr.cod_servicio := pcod_servicio;
if pcod_servicio = 'PAN' then
   begin
        ae115_fr.hdtxt1 := 'AN-109A';
        ae115_fr.hdtxt2 := 'NUTRICIONAL';
   end;
ELSE
   begin
        ae115_fr.hdtxt1 := 'AE115';
        ae115_fr.hdtxt2 := 'ECONOMICA';
   end;
SET_NOTRACE();
end;
    



--------------------------------------------------------------------- */
