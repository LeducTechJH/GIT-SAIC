package gov.dlf.logic;


import gov.dlf.external.*;
import gov.dlf.facade.*;
import gov.dlf.presentation.*;


import java.util.*;

import net.maintrend.appmanager.*;
import net.maintrend.datamanager.*;
import net.maintrend.interfaces.*;
import net.maintrend.interlink.*;
import net.maintrend.mdi.*;
import net.maintrend.rallyengine.*;
import net.maintrend.util.*;
import net.maintrend.util.format.*;



/**
 * __Comment
 *
 * Generated by Rally-to-Java Convertor. MainTrend Ltd.
 */
public class SECURITY_CHECK_GBLS_ADL
     extends ADL
{
  // -------------------------------------------------------------------
  // ----------   Class Attributes   -----------------------------------

  /**  */
  public static boolean staticCall = true;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes   --------------------------------

  /**  */
  public SAIC_DMQ_ORA_Application app;
  /**  */
  public RallyDataManager dm = null;



  // -------------------------------------------------------------------
  // ----------   Instance Condition Attributes   ----------------------

 

  // -------------------------------------------------------------------
  // ----------   Instance Export Attributes   -------------------------

  public double UPDATE_CONFIRM = 0;

  public double GENERAL_TBL = 0;

  public double STATUS = 0;



  public DataStore GEN_MODU_RO_DSD = null;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes' Access Methods   ----------------

  
  /**  */
  public static void setUPDATE_CONFIRM  ( RallyApplication __app, Parameter value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).UPDATE_CONFIRM = value.getDouble ( );
  }  

  
  /**  */
  public static void setGENERAL_TBL  ( RallyApplication __app, Parameter value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GENERAL_TBL = value.getDouble ( );
  }  

  
  /**  */
  public static void setSTATUS  ( RallyApplication __app, Parameter value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).STATUS = value.getDouble ( );
  }  
    


  /**  */
  public static DataStore getGEN_MODU_RO_DSD  ( RallyApplication __app )
  {
    return ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GEN_MODU_RO_DSD;
  }


  /**  */
  public static void setGEN_MODU_RO_DSD  ( RallyApplication __app, DataStore value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GEN_MODU_RO_DSD = value;
  }


  /**  */
  public static void setGEN_MODU_RO_DSD  ( RallyApplication __app, Object value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GEN_MODU_RO_DSD = ( DataStore ) value;
  }




  /**  */
  public static double getUPDATE_CONFIRM  ( RallyApplication __app )
  {
    return ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).UPDATE_CONFIRM;
  }


  /**  */
  public static Double getUPDATE_CONFIRMDouble ( RallyApplication __app )
  {
    return new Double ( ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).UPDATE_CONFIRM );
  }


  /**  */
  public static void setUPDATE_CONFIRM  ( RallyApplication __app, double value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).UPDATE_CONFIRM = value;
  }


  /**  */
  public static void setUPDATE_CONFIRM  ( RallyApplication __app, Object value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).UPDATE_CONFIRM = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getGENERAL_TBL  ( RallyApplication __app )
  {
    return ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GENERAL_TBL;
  }


  /**  */
  public static Double getGENERAL_TBLDouble ( RallyApplication __app )
  {
    return new Double ( ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GENERAL_TBL );
  }


  /**  */
  public static void setGENERAL_TBL  ( RallyApplication __app, double value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GENERAL_TBL = value;
  }


  /**  */
  public static void setGENERAL_TBL  ( RallyApplication __app, Object value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).GENERAL_TBL = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getSTATUS  ( RallyApplication __app )
  {
    return ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).STATUS;
  }


  /**  */
  public static Double getSTATUSDouble ( RallyApplication __app )
  {
    return new Double ( ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).STATUS );
  }


  /**  */
  public static void setSTATUS  ( RallyApplication __app, double value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).STATUS = value;
  }


  /**  */
  public static void setSTATUS  ( RallyApplication __app, Object value )
  {
    ( ( SECURITY_CHECK_GBLS_ADL ) __app.getADL ( SECURITY_CHECK_GBLS_ADL.class ) ).STATUS = ( ( Double ) value ).doubleValue ( );
  }



  // -------------------------------------------------------------------
  // ----------   Methods   --------------------------------------------

  /**
   * 
   * @param __app
   * @return
   */
  public static SECURITY_CHECK_GBLS_ADL get ( RallyApplication __app )
  {
    SECURITY_CHECK_GBLS_ADL adl = new SECURITY_CHECK_GBLS_ADL ( );
    __app.register ( adl, "SECURITY_CHECK_GBLS_ADL" );
    __app.setADL ( SECURITY_CHECK_GBLS_ADL.class, adl ); 
    adl.setApplication ( __app );
    return adl;
  }


  /**
   *
   * @param __app
   * @param ps
   *
   * @return
   */
  public static void exec ( RallyApplication __app, ParameterSet ps )
  {
    SECURITY_CHECK_GBLS_ADL.get ( __app ).process ( ps );
  }


  /**
   *
   * @param __app
   *
   * @return
   */
  public static void exec ( RallyApplication __app )
  {
    ParameterSet ps = null;
    SECURITY_CHECK_GBLS_ADL.exec ( __app, ps );
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param __app
   */
  public void setApplication ( RallyApplication __app )
  {
    this.app = ( SAIC_DMQ_ORA_Application ) __app;
    if ( this.app != null )
    {
      this.dm = ( RallyDataManager ) this.app.getDataManager ( );
    }
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param parms
   */
  public void execute ( ParameterSet parms )
  {
    this.process ( parms );
  }


  /**
   * Populating the parameter set object with return values
   */
  protected void returnParms ( ParameterSet ps, double UPDATE_CONFIRM )
  {
    ps.reset ( );
    ps.set ( UPDATE_CONFIRM );
  }




  /**
   *
   */
  protected void doReturn ( )
  {
    this.unregister ( );
  }


  /**
   *
   */
  public void unregister ( )
  {
    this.app.unregister ( this );
    IRegisteredObject rObj = this.app.get ( "SECURITY_CHECK_GBLS_ADL" );
    if ( rObj != null && rObj instanceof SECURITY_CHECK_GBLS_ADL )
    {
      this.app.setADL ( SECURITY_CHECK_GBLS_ADL.class, ( SECURITY_CHECK_GBLS_ADL ) rObj );
    }
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param ps
   */
  protected void process ( ParameterSet ps )
  {
    Debug.println ( Debug.TRACE, "SECURITY_CHECK_GBLS_ADL Step " + this.currentStep );
    super.process ( ps );
    switch ( this.currentStep ) 
    {
      case 0:  { this.currentStep ++; this.step0 ( this.keyParms ); break; }
      default: 
      { 
        this.currentStep = 0;
        Debug.println ( Debug.TRACE, "SECURITY_CHECK_GBLS_ADL ended" );
        this.unregister ( );
        break;
      }
    }
    if ( this.currentStep > 0 ) this.app.goOn ( );
  }



  /**
   *
   */
  protected void step0 ( ParameterSet ps )
  {
    ps.reset ( );
    UPDATE_CONFIRM = ps.getDouble( );

    GEN_MODU_RO_DSD = this.dm.create ( "GEN_MODU_RO_DSD" );
    GENERAL_TBL = GEN_MODU_RO_DSD.getId ( );
    STATUS = RallyDataStoreException.getDefault ( );
    if ( ! Compare.equals ( STATUS, 0 ) ) 
    {
      this.app.setError ( 0, STATUS );
      
      this.returnParms ( ps, UPDATE_CONFIRM );
      this.doReturn ( );
      return;
    }

    STATUS  = this.dm.reset ( GENERAL_TBL );

    if ( ! Compare.equals ( STATUS, 0 ) ) 
    {
      this.app.setError ( 1, STATUS );
      
      this.returnParms ( ps, UPDATE_CONFIRM );
      this.doReturn ( );
      return; 
    }
    this.dm.setField ( this.dm.get ( "GEN_MODU_RO_DSD" ), "COD_GENERAL", "MODU" );
    this.dm.setField ( this.dm.get ( "GEN_MODU_RO_DSD" ), "COD_ID", this.app.COD_ACCESS_GBL );

    STATUS  = this.dm.limitQueryFromBuffer ( GENERAL_TBL );
    STATUS  = this.dm.retrieve ( GENERAL_TBL );

    if ( ! Compare.equals ( STATUS, 0 ) ) 
    {
      this.app.setError ( 2, STATUS );
      this.returnParms ( ps, UPDATE_CONFIRM );
      this.doReturn ( );
      return;
    }

    STATUS  = this.dm.firstRow ( GENERAL_TBL );

    if ( ! Compare.equals ( STATUS, 0 ) ) 
    {
      this.app.setError ( 3, STATUS );
      this.returnParms ( ps, UPDATE_CONFIRM );
      this.doReturn ( );
      return;
    }
    UPDATE_CONFIRM = 0;
    if ( ( Compare.equals ( this.app.DIRE_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 0, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.OADM_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 1, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.SUPV_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 2, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.TECN_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 3, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.OFIC_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 4, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.SIST_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 5, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.CTRL_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 6, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.MACA_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 7, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    if ( ( Compare.equals ( this.app.RECP_GBL, 1 ) ) && ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "GEN_MODU_RO_DSD" ), "DSC_LARGA" ), 8, 1 ), "1" ) )  ) 
    {
      UPDATE_CONFIRM = 1;
    }
    STATUS  = this.dm.dbClose ( GENERAL_TBL );

    this.returnParms ( ps, UPDATE_CONFIRM );

  }
}



/* ---------------------------------------------------------------------


     
PROCEDURE SECURITY_CHECK_GBLS_ADL(VAR UPDATE_CONFIRM: NUMBER(1,0););
VAR 
   GENERAL_TBL  : NUMBER(9,0);
   STATUS       : NUMBER(9,0);

BEGIN
SET_TRACE();

DB_OPEN(GEN_MODU_RO_DSD,GENERAL_TBL,STATUS);
IF (STATUS <> 0) THEN BEGIN
                 ERROR(STATUS);
                 RETURN;
                 END;
DB_RESET(GENERAL_TBL,STATUS);
IF (STATUS <> 0) THEN BEGIN
                 ERROR(STATUS);
                 RETURN;
                 END;

GEN_MODU_RO_DSD.COD_GENERAL := 'MODU';
GEN_MODU_RO_DSD.COD_ID := COD_ACCESS_GBL;

DB_QUERY(GENERAL_TBL,STATUS);
IF (STATUS <> 0) THEN BEGIN
                 ERROR(STATUS);
                 RETURN;
                 END;

DB_GET_FIRST(GENERAL_TBL,STATUS);
IF (STATUS <> 0) THEN BEGIN
                 ERROR(STATUS);
                 RETURN;
                 END;
UPDATE_CONFIRM:=0;

IF (DIRE_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,0,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (OADM_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,1,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (SUPV_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,2,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (TECN_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,3,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (OFIC_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,4,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (SIST_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,5,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (CTRL_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,6,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (MACA_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,7,1)='1')
        THEN UPDATE_CONFIRM:=1;

IF (RECP_GBL=1) AND (SUBSTR(GEN_MODU_RO_DSD.DSC_LARGA,8,1)='1')
        THEN UPDATE_CONFIRM:=1;

DB_close(GENERAL_TBL,STATUS);

SET_NOTRACE();
END;

    



--------------------------------------------------------------------- */
