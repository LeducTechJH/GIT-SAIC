package gov.dlf.logic;


import gov.dlf.facade.*;
import net.maintrend.datamanager.*;
import net.maintrend.interfaces.*;
import net.maintrend.interlink.*;
import net.maintrend.rallyengine.*;
import net.maintrend.util.*;



/**
 * __Comment
 *
 * Generated by Rally-to-Java Convertor. MainTrend Ltd.
 */
public class DIRECCION_ADL
     extends ADL
{
  // -------------------------------------------------------------------
  // ----------   Class Attributes   -----------------------------------

  /**  */
  public static boolean staticCall = false;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes   --------------------------------

  /**  */
  public SAIC_DMQ_ORA_Application app;
  /**  */
  public RallyDataManager dm = null;



  // -------------------------------------------------------------------
  // ----------   Instance Condition Attributes   ----------------------

 

  // -------------------------------------------------------------------
  // ----------   Instance Export Attributes   -------------------------

  public double SSN = 0;

  public double ZIP = 0;

  public double ZIP4 = 0;

  public double OPEN_ID = 0;

  public double STATUS_ID = 0;

  public double ZIPN = 0;



  public String TIPO = null;

  public String DIR1 = null;

  public String DIR2 = null;

  public String MUN = null;

  public String PAIS = null;

  public String ZIPC = null;

  public String CIUDAD = null;

  public String ESTADO = null;

  public DataStore DIRECCIONES_R_DSD = null;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes' Access Methods   ----------------

  
  /**  */
  public static void setSSN  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).SSN = value.getDouble ( );
  }  

  
  /**  */
  public static void setTIPO  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).TIPO = value.getString ( );
  }  

  
  /**  */
  public static void setDIR1  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR1 = value.getString ( );
  }  

  
  /**  */
  public static void setDIR2  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR2 = value.getString ( );
  }  

  
  /**  */
  public static void setZIP  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP = value.getDouble ( );
  }  

  
  /**  */
  public static void setZIP4  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP4 = value.getDouble ( );
  }  

  
  /**  */
  public static void setMUN  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).MUN = value.getString ( );
  }  

  
  /**  */
  public static void setPAIS  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).PAIS = value.getString ( );
  }  

  
  /**  */
  public static void setOPEN_ID  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).OPEN_ID = value.getDouble ( );
  }  

  
  /**  */
  public static void setSTATUS_ID  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).STATUS_ID = value.getDouble ( );
  }  

  
  /**  */
  public static void setZIPC  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPC = value.getString ( );
  }  

  
  /**  */
  public static void setZIPN  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPN = value.getDouble ( );
  }  

  
  /**  */
  public static void setCIUDAD  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).CIUDAD = value.getString ( );
  }  

  
  /**  */
  public static void setESTADO  ( RallyApplication __app, Parameter value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ESTADO = value.getString ( );
  }  
    


  /**  */
  public static String getTIPO  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).TIPO;
  }


  /**  */
  public static void setTIPO  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).TIPO = value;
  }


  /**  */
  public static void setTIPO  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).TIPO = ( String ) value;
  }



  /**  */
  public static String getDIR1  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR1;
  }


  /**  */
  public static void setDIR1  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR1 = value;
  }


  /**  */
  public static void setDIR1  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR1 = ( String ) value;
  }



  /**  */
  public static String getDIR2  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR2;
  }


  /**  */
  public static void setDIR2  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR2 = value;
  }


  /**  */
  public static void setDIR2  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIR2 = ( String ) value;
  }



  /**  */
  public static String getMUN  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).MUN;
  }


  /**  */
  public static void setMUN  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).MUN = value;
  }


  /**  */
  public static void setMUN  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).MUN = ( String ) value;
  }



  /**  */
  public static String getPAIS  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).PAIS;
  }


  /**  */
  public static void setPAIS  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).PAIS = value;
  }


  /**  */
  public static void setPAIS  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).PAIS = ( String ) value;
  }



  /**  */
  public static String getZIPC  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPC;
  }


  /**  */
  public static void setZIPC  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPC = value;
  }


  /**  */
  public static void setZIPC  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPC = ( String ) value;
  }



  /**  */
  public static String getCIUDAD  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).CIUDAD;
  }


  /**  */
  public static void setCIUDAD  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).CIUDAD = value;
  }


  /**  */
  public static void setCIUDAD  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).CIUDAD = ( String ) value;
  }



  /**  */
  public static String getESTADO  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ESTADO;
  }


  /**  */
  public static void setESTADO  ( RallyApplication __app, String value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ESTADO = value;
  }


  /**  */
  public static void setESTADO  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ESTADO = ( String ) value;
  }



  /**  */
  public static DataStore getDIRECCIONES_R_DSD  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIRECCIONES_R_DSD;
  }


  /**  */
  public static void setDIRECCIONES_R_DSD  ( RallyApplication __app, DataStore value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIRECCIONES_R_DSD = value;
  }


  /**  */
  public static void setDIRECCIONES_R_DSD  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).DIRECCIONES_R_DSD = ( DataStore ) value;
  }




  /**  */
  public static double getSSN  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).SSN;
  }


  /**  */
  public static Double getSSNDouble ( RallyApplication __app )
  {
    return new Double ( ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).SSN );
  }


  /**  */
  public static void setSSN  ( RallyApplication __app, double value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).SSN = value;
  }


  /**  */
  public static void setSSN  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).SSN = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getZIP  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP;
  }


  /**  */
  public static Double getZIPDouble ( RallyApplication __app )
  {
    return new Double ( ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP );
  }


  /**  */
  public static void setZIP  ( RallyApplication __app, double value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP = value;
  }


  /**  */
  public static void setZIP  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getZIP4  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP4;
  }


  /**  */
  public static Double getZIP4Double ( RallyApplication __app )
  {
    return new Double ( ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP4 );
  }


  /**  */
  public static void setZIP4  ( RallyApplication __app, double value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP4 = value;
  }


  /**  */
  public static void setZIP4  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIP4 = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getOPEN_ID  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).OPEN_ID;
  }


  /**  */
  public static Double getOPEN_IDDouble ( RallyApplication __app )
  {
    return new Double ( ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).OPEN_ID );
  }


  /**  */
  public static void setOPEN_ID  ( RallyApplication __app, double value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).OPEN_ID = value;
  }


  /**  */
  public static void setOPEN_ID  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).OPEN_ID = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getSTATUS_ID  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).STATUS_ID;
  }


  /**  */
  public static Double getSTATUS_IDDouble ( RallyApplication __app )
  {
    return new Double ( ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).STATUS_ID );
  }


  /**  */
  public static void setSTATUS_ID  ( RallyApplication __app, double value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).STATUS_ID = value;
  }


  /**  */
  public static void setSTATUS_ID  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).STATUS_ID = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getZIPN  ( RallyApplication __app )
  {
    return ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPN;
  }


  /**  */
  public static Double getZIPNDouble ( RallyApplication __app )
  {
    return new Double ( ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPN );
  }


  /**  */
  public static void setZIPN  ( RallyApplication __app, double value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPN = value;
  }


  /**  */
  public static void setZIPN  ( RallyApplication __app, Object value )
  {
    ( ( DIRECCION_ADL ) __app.getADL ( DIRECCION_ADL.class ) ).ZIPN = ( ( Double ) value ).doubleValue ( );
  }



  // -------------------------------------------------------------------
  // ----------   Methods   --------------------------------------------

  /**
   * 
   * @param __app
   * @return
   */
  public static DIRECCION_ADL get ( RallyApplication __app )
  {
    DIRECCION_ADL adl = new DIRECCION_ADL ( );
    __app.register ( adl, "DIRECCION_ADL" );
    __app.setADL ( DIRECCION_ADL.class, adl ); 
    adl.setApplication ( __app );
    return adl;
  }


  /**
   *
   * @param __app
   * @param ps
   *
   * @return
   */
  public static void exec ( RallyApplication __app, ParameterSet ps )
  {
    DIRECCION_ADL.get ( __app ).process ( ps );
  }


  /**
   *
   * @param __app
   *
   * @return
   */
  public static void exec ( RallyApplication __app )
  {
    ParameterSet ps = null;
    DIRECCION_ADL.exec ( __app, ps );
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param __app
   */
  @Override
public void setApplication ( RallyApplication __app )
  {
    this.app = ( SAIC_DMQ_ORA_Application ) __app;
    if ( this.app != null )
    {
      this.dm = ( RallyDataManager ) this.app.getDataManager ( );
    }
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param parms
   */
  @Override
public void execute ( ParameterSet parms )
  {
    this.process ( parms );
  }


  /**
   * Populating the parameter set object with return values
   */
  protected void returnParms ( ParameterSet ps, double SSN, String TIPO, String DIR1, String DIR2, double ZIP, double ZIP4, String MUN, String PAIS )
  {
    ps.reset ( );
    ps.set ( SSN );
    ps.set ( TIPO );
    ps.set ( DIR1 );
    ps.set ( DIR2 );
    ps.set ( ZIP );
    ps.set ( ZIP4 );
    ps.set ( MUN );
    ps.set ( PAIS );
  }




  /**
   *
   */
  protected void doReturn ( )
  {
    this.unregister ( );
  }


  /**
   *
   */
  public void unregister ( )
  {
    this.app.unregister ( this );
    IRegisteredObject rObj = this.app.get ( "DIRECCION_ADL" );
    if ( rObj != null && rObj instanceof DIRECCION_ADL )
    {
      this.app.setADL ( DIRECCION_ADL.class, ( DIRECCION_ADL ) rObj );
    }
  }


  /**
   * Overrides the ancestor's method
   * 
   * @param ps
   */
  @Override
protected void process ( ParameterSet ps )
  {
    Debug.println ( Debug.TRACE, "DIRECCION_ADL Step " + this.currentStep );
    super.process ( ps );
    switch ( this.currentStep ) 
    {
      case 0:  { this.currentStep ++; this.step0 ( this.keyParms ); break; }
      case 1:  { this.currentStep ++; this.step1 ( this.keyParms ); break; }
      default: 
      { 
        this.currentStep = 0;
        Debug.println ( Debug.TRACE, "DIRECCION_ADL ended" );
        this.unregister ( );
        break;
      }
    }
    if ( this.currentStep > 0 ) this.app.goOn ( );
  }



  /**
   *
   */
  protected void step0 ( ParameterSet ps )
  {
    ps.reset ( );
    SSN = ps.getDouble( );
    TIPO = ps.getString( );
    DIR1 = ps.getString( );
    DIR2 = ps.getString( );
    ZIP = ps.getDouble( );
    ZIP4 = ps.getDouble( );
    MUN = ps.getString( );
    PAIS = ps.getString( );

    DIRECCIONES_R_DSD = this.dm.create ( "DIRECCIONES_R_DSD" );
    OPEN_ID = DIRECCIONES_R_DSD.getId ( );
    STATUS_ID = RallyDataStoreException.getDefault ( );
    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      this.returnParms ( ps, SSN, TIPO, DIR1, DIR2, ZIP, ZIP4, MUN, PAIS );
      this.doReturn ( );
      return;
    }

    STATUS_ID  = this.dm.reset ( OPEN_ID );

    this.dm.setField ( this.dm.get ( "DIRECCIONES_R_DSD" ), "SEGURO_SOCIAL_JEFE_FAM", SSN );
    this.dm.setField ( this.dm.get ( "DIRECCIONES_R_DSD" ), "COD_TIPO_DIRECCION", TIPO );
    this.dm.setField ( this.dm.get ( "DIRECCIONES_R_DSD" ), "RMO_OFICINA", this.app.RMO_GBL );

    STATUS_ID  = this.dm.limitQueryFromBuffer ( OPEN_ID );
    STATUS_ID  = this.dm.retrieve ( OPEN_ID );

    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      STATUS_ID  = this.dm.dbClose ( OPEN_ID );

      this.returnParms ( ps, SSN, TIPO, DIR1, DIR2, ZIP, ZIP4, MUN, PAIS );
      this.doReturn ( );
      return;    
    }

    STATUS_ID  = this.dm.firstRow ( OPEN_ID );

    if ( ! Compare.equals ( STATUS_ID, 0 ) ) 
    {
      STATUS_ID  = this.dm.dbClose ( OPEN_ID );

      this.returnParms ( ps, SSN, TIPO, DIR1, DIR2, ZIP, ZIP4, MUN, PAIS );
      this.doReturn ( );
      return;    
    }
    DIR1 = this.dm.getFieldString ( this.dm.get ( "DIRECCIONES_R_DSD" ), "DSC_DIRECCION_1" );
    DIR2 = this.dm.getFieldString ( this.dm.get ( "DIRECCIONES_R_DSD" ), "DSC_DIRECCION_2" );
    ZIP = this.dm.getFieldDouble ( this.dm.get ( "DIRECCIONES_R_DSD" ), "ZIP_CODE" );
    ZIP4 = this.dm.getFieldDouble ( this.dm.get ( "DIRECCIONES_R_DSD" ), "ZIP_CODE_4" );
    if ( Compare.equals ( TIPO, "RESI" ) ) 
    {
      MUN = this.dm.getFieldString ( this.dm.get ( "DIRECCIONES_R_DSD" ), "DSC_COMO2" );
    }
    STATUS_ID  = this.dm.dbClose ( OPEN_ID );

    this.callParms.clear ( );
    this.callParms.set ( ZIP  );
    this.callParms.set ( CIUDAD  );
    this.callParms.set ( ESTADO  );
    ZIPCODE_ADL.exec ( this.app, this.callParms );
    return;

  }


  /**
   *
   */
  protected void step1 ( ParameterSet ps )
  {
    this.callParms.reset ( );
    ZIP  = this.callParms.getDouble ( );
    CIUDAD  = this.callParms.getString ( );
    ESTADO  = this.callParms.getString ( );

    if ( Compare.equals ( TIPO, "POST" ) ) 
    {
      MUN = CIUDAD;
    }
    PAIS = ESTADO;
    this.returnParms ( ps, SSN, TIPO, DIR1, DIR2, ZIP, ZIP4, MUN, PAIS );

  }
}



/* ---------------------------------------------------------------------


     
PROCEDURE DIRECCION_ADL         (var ssn: number;
                                 var tipo: char(4);
                                 var dir1: char(25);
                                 var dir2: char(25);
                                 var zip : number (5,0);
                                 var zip4: number (4,0);
                                 var mun : char(20);
                                 var pais: char(2););
var
        open_id         :       number (9,0);
        status_id       :       number (9,0);
        zipc            :       char (9);
        zipn            :       number (9,0);
        ciudad          :       char(20);
        estado          :       char(2);

begin
SET_TRACE();
        db_open(direcciones_r_dsd,open_id,status_id);
        if status_id <> 0 then
        begin
                return;
        end;
        db_reset(open_id,status_id);
        direcciones_r_dsd.seguro_social_jefe_fam := ssn;
        direcciones_r_dsd.cod_tipo_direccion := TIPO;
        DIRECCIONES_R_DSD.RMO_OFICINA := RMO_GBL;
        db_query(open_id,status_id);
        IF status_id <> 0 THEN
                begin
                        db_close(open_id,status_id);
                        return;
                end;
        {endif}
        db_get_first(open_id,status_id);
        IF status_id <> 0 THEN
                begin
                        db_close(open_id,status_id);
                        return;
                end;
        {endif}
        dir1 := direcciones_r_dsd.dsc_direccion_1;
        dir2 := direcciones_r_dsd.dsc_direccion_2;
        zip  := direcciones_r_dsd.zip_code;
        zip4 := direcciones_r_dsd.zip_code_4;
        IF TIPO = 'RESI' THEN
               BEGIN

                mun:= DIRECCIONES_R_DSD.DSC_COMO2;
               end;


        db_close(open_id,status_id);
        call zipcode_adl (zip,ciudad,estado);
        IF TIPO = 'POST' THEN
               BEGIN
                 mun:= CIUDAD;
               end;
        pais := estado;
SET_NOTRACE();
end;
    



--------------------------------------------------------------------- */
