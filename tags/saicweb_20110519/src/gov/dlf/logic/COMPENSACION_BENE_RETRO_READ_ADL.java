package gov.dlf.logic;


import gov.dlf.external.*;
import gov.dlf.facade.*;
import gov.dlf.presentation.*;


import java.util.*;

import net.maintrend.appmanager.*;
import net.maintrend.datamanager.*;
import net.maintrend.interfaces.*;
import net.maintrend.interlink.*;
import net.maintrend.mdi.*;
import net.maintrend.rallyengine.*;
import net.maintrend.util.*;
import net.maintrend.util.format.*;



/**
 * __Comment
 *
 * Generated by Rally-to-Java Convertor. MainTrend Ltd.
 */
public class COMPENSACION_BENE_RETRO_READ_ADL
     extends ADL
{
  // -------------------------------------------------------------------
  // ----------   Class Attributes   -----------------------------------

  /**  */
  public static boolean staticCall = false;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes   --------------------------------

  /**  */
  public SAIC_DMQ_ORA_Application app;
  /**  */
  public RallyDataManager dm = null;



  // -------------------------------------------------------------------
  // ----------   Instance Condition Attributes   ----------------------

  public boolean _condition0 = false;

  public boolean _condition1 = false;

  public boolean _condition2 = false;

  public boolean _condition3 = false;

  public boolean _condition4 = false;

  public boolean _condition5 = false;



  // -------------------------------------------------------------------
  // ----------   Instance Export Attributes   -------------------------

  public double RECLA_ID = 0;

  public double RECLA_STATUS = 0;

  public double RETRO_ID = 0;

  public double RETRO_STATUS = 0;

  public double COUNTER = 0;

  public double LARGO = 0;



  public Date FECHA = null;

  public Date FECHA_RECLA = null;

  public Date FECHA_RETRO = null;

  public String RR_ACCION = null;

  public String RR_STATUS = null;

  public DataStore RECLA_RETRO_TABLE_DSD = null;



  // -------------------------------------------------------------------
  // ----------   Instance Attributes' Access Methods   ----------------


  /**  */
  public static void setRECLA_ID  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_ID = value.getDouble ( );
  }


  /**  */
  public static void setRECLA_STATUS  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_STATUS = value.getDouble ( );
  }


  /**  */
  public static void setRETRO_ID  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_ID = value.getDouble ( );
  }


  /**  */
  public static void setRETRO_STATUS  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_STATUS = value.getDouble ( );
  }


  /**  */
  public static void setFECHA  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA = value.getDate ( );
  }


  /**  */
  public static void setFECHA_RECLA  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RECLA = value.getDate ( );
  }


  /**  */
  public static void setFECHA_RETRO  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RETRO = value.getDate ( );
  }


  /**  */
  public static void setRR_ACCION  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_ACCION = value.getString ( );
  }


  /**  */
  public static void setRR_STATUS  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_STATUS = value.getString ( );
  }


  /**  */
  public static void setCOUNTER  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).COUNTER = value.getDouble ( );
  }


  /**  */
  public static void setLARGO  ( RallyApplication __app, Parameter value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).LARGO = value.getDouble ( );
  }



  /**  */
  public static Date getFECHA  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA;
  }


  /**  */
  public static void setFECHA  ( RallyApplication __app, Date value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA = value;
  }


  /**  */
  public static void setFECHA  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA = ( Date ) value;
  }



  /**  */
  public static Date getFECHA_RECLA  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RECLA;
  }


  /**  */
  public static void setFECHA_RECLA  ( RallyApplication __app, Date value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RECLA = value;
  }


  /**  */
  public static void setFECHA_RECLA  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RECLA = ( Date ) value;
  }



  /**  */
  public static Date getFECHA_RETRO  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RETRO;
  }


  /**  */
  public static void setFECHA_RETRO  ( RallyApplication __app, Date value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RETRO = value;
  }


  /**  */
  public static void setFECHA_RETRO  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).FECHA_RETRO = ( Date ) value;
  }



  /**  */
  public static String getRR_ACCION  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_ACCION;
  }


  /**  */
  public static void setRR_ACCION  ( RallyApplication __app, String value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_ACCION = value;
  }


  /**  */
  public static void setRR_ACCION  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_ACCION = ( String ) value;
  }



  /**  */
  public static String getRR_STATUS  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_STATUS;
  }


  /**  */
  public static void setRR_STATUS  ( RallyApplication __app, String value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_STATUS = value;
  }


  /**  */
  public static void setRR_STATUS  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RR_STATUS = ( String ) value;
  }



  /**  */
  public static DataStore getRECLA_RETRO_TABLE_DSD  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_RETRO_TABLE_DSD;
  }


  /**  */
  public static void setRECLA_RETRO_TABLE_DSD  ( RallyApplication __app, DataStore value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_RETRO_TABLE_DSD = value;
  }


  /**  */
  public static void setRECLA_RETRO_TABLE_DSD  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_RETRO_TABLE_DSD = ( DataStore ) value;
  }




  /**  */
  public static double getRECLA_ID  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_ID;
  }


  /**  */
  public static Double getRECLA_IDDouble ( RallyApplication __app )
  {
    return new Double ( ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_ID );
  }


  /**  */
  public static void setRECLA_ID  ( RallyApplication __app, double value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_ID = value;
  }


  /**  */
  public static void setRECLA_ID  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_ID = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getRECLA_STATUS  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_STATUS;
  }


  /**  */
  public static Double getRECLA_STATUSDouble ( RallyApplication __app )
  {
    return new Double ( ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_STATUS );
  }


  /**  */
  public static void setRECLA_STATUS  ( RallyApplication __app, double value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_STATUS = value;
  }


  /**  */
  public static void setRECLA_STATUS  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RECLA_STATUS = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getRETRO_ID  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_ID;
  }


  /**  */
  public static Double getRETRO_IDDouble ( RallyApplication __app )
  {
    return new Double ( ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_ID );
  }


  /**  */
  public static void setRETRO_ID  ( RallyApplication __app, double value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_ID = value;
  }


  /**  */
  public static void setRETRO_ID  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_ID = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getRETRO_STATUS  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_STATUS;
  }


  /**  */
  public static Double getRETRO_STATUSDouble ( RallyApplication __app )
  {
    return new Double ( ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_STATUS );
  }


  /**  */
  public static void setRETRO_STATUS  ( RallyApplication __app, double value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_STATUS = value;
  }


  /**  */
  public static void setRETRO_STATUS  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).RETRO_STATUS = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getCOUNTER  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).COUNTER;
  }


  /**  */
  public static Double getCOUNTERDouble ( RallyApplication __app )
  {
    return new Double ( ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).COUNTER );
  }


  /**  */
  public static void setCOUNTER  ( RallyApplication __app, double value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).COUNTER = value;
  }


  /**  */
  public static void setCOUNTER  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).COUNTER = ( ( Double ) value ).doubleValue ( );
  }


  /**  */
  public static double getLARGO  ( RallyApplication __app )
  {
    return ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).LARGO;
  }


  /**  */
  public static Double getLARGODouble ( RallyApplication __app )
  {
    return new Double ( ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).LARGO );
  }


  /**  */
  public static void setLARGO  ( RallyApplication __app, double value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).LARGO = value;
  }


  /**  */
  public static void setLARGO  ( RallyApplication __app, Object value )
  {
    ( ( COMPENSACION_BENE_RETRO_READ_ADL ) __app.getADL ( COMPENSACION_BENE_RETRO_READ_ADL.class ) ).LARGO = ( ( Double ) value ).doubleValue ( );
  }



  // -------------------------------------------------------------------
  // ----------   Methods   --------------------------------------------

  /**
   *
   * @param __app
   * @return
   */
  public static COMPENSACION_BENE_RETRO_READ_ADL get ( RallyApplication __app )
  {
    COMPENSACION_BENE_RETRO_READ_ADL adl = new COMPENSACION_BENE_RETRO_READ_ADL ( );
    __app.register ( adl, "COMPENSACION_BENE_RETRO_READ_ADL" );
    __app.setADL ( COMPENSACION_BENE_RETRO_READ_ADL.class, adl );
    adl.setApplication ( __app );
    return adl;
  }


  /**
   *
   * @param __app
   * @param ps
   *
   * @return
   */
  public static void exec ( RallyApplication __app, ParameterSet ps )
  {
    COMPENSACION_BENE_RETRO_READ_ADL.get ( __app ).process ( ps );
  }


  /**
   *
   * @param __app
   *
   * @return
   */
  public static void exec ( RallyApplication __app )
  {
    ParameterSet ps = null;
    COMPENSACION_BENE_RETRO_READ_ADL.exec ( __app, ps );
  }


  /**
   * Overrides the ancestor's method
   *
   * @param __app
   */
  public void setApplication ( RallyApplication __app )
  {
    this.app = ( SAIC_DMQ_ORA_Application ) __app;
    if ( this.app != null )
    {
      this.dm = ( RallyDataManager ) this.app.getDataManager ( );
    }
  }


  /**
   * Overrides the ancestor's method
   *
   * @param parms
   */
  public void execute ( ParameterSet parms )
  {
    this.process ( parms );
  }




  /**
   *
   */
  protected void doReturn ( )
  {
    this.unregister ( );
  }


  /**
   *
   */
  public void unregister ( )
  {
    this.app.unregister ( this );
    IRegisteredObject rObj = this.app.get ( "COMPENSACION_BENE_RETRO_READ_ADL" );
    if ( rObj != null && rObj instanceof COMPENSACION_BENE_RETRO_READ_ADL )
    {
      this.app.setADL ( COMPENSACION_BENE_RETRO_READ_ADL.class, ( COMPENSACION_BENE_RETRO_READ_ADL ) rObj );
    }
  }


  /**
   * Overrides the ancestor's method
   *
   * @param ps
   */
  protected void process ( ParameterSet ps )
  {
    Debug.println ( Debug.TRACE, "COMPENSACION_BENE_RETRO_READ_ADL Step " + this.currentStep );
    super.process ( ps );
    switch ( this.currentStep )
    {
      case 0:  { this.currentStep ++; this.step0 ( this.keyParms ); break; }
      case 1:  { this.currentStep ++; this.step1 ( this.keyParms ); break; }
      case 2:  { this.currentStep ++; this.step2 ( this.keyParms ); break; }
      case 3:  { this.currentStep ++; this.step3 ( this.keyParms ); break; }
      case 4:  { this.currentStep ++; this.step4 ( this.keyParms ); break; }
      default:
      {
        this.currentStep = 0;
        Debug.println ( Debug.TRACE, "COMPENSACION_BENE_RETRO_READ_ADL ended" );
        this.unregister ( );
        break;
      }
    }
    if ( this.currentStep > 0 ) this.app.goOn ( );
  }



  /**
   *
   */
  protected void step0 ( ParameterSet ps )
  {

    LARGO = 0;
    COUNTER = 0;
    RECLA_RETRO_TABLE_DSD = this.dm.create ( "RECLA_RETRO_TABLE_DSD" );
    RECLA_ID = RECLA_RETRO_TABLE_DSD.getId ( );
    RECLA_STATUS = RallyDataStoreException.getDefault ( );
    if ( ! Compare.equals ( RECLA_STATUS, 0 ) )
    {
      this.app.setError ( 0, RECLA_STATUS );
      this.doReturn ( );
      return;
    }

    RECLA_STATUS  = this.dm.reset ( RECLA_ID );

    if ( ! Compare.equals ( RECLA_STATUS, 0 ) )
    {
      this.app.setError ( 1, RECLA_STATUS );
      this.doReturn ( );
      return;
    }
    this.dm.setField ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "SEGURO_SOCIAL_JEFE_FAM", this.app.SS_JEFE_FAMILIA_GBL );
    this.dm.setField ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "SEGURO_SOCIAL_JEFE_SERV", this.app.SS_JEFE_SERVICIO_GBL );
    this.dm.setField ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "RMO_OFICINA", this.app.RMO_GBL );

    RECLA_STATUS  = this.dm.limitQueryFromBuffer ( RECLA_ID );
    RECLA_STATUS  = this.dm.retrieve ( RECLA_ID );

    RECLA_STATUS  = this.dm.firstRow ( RECLA_ID );

    if ( ! Compare.equals ( RECLA_STATUS, 0 ) )
    {
      this.doReturn ( );
      return;
    }
    if ( Compare.equals ( RallyStringService.subString ( this.app.COD_SERV_GBL, 0, 3 ), "PAN" ) )
    {
      LARGO = 3;
    }
    else
    {
      LARGO = 4;
    }
    this.process ( ps );

  }


  /**
   *
   */
  protected void step1 ( ParameterSet ps )
  {

    if ( Compare.equals ( RECLA_STATUS, 0 ) )
    {
      this._condition0 = true;
    }
    else
    {
      this._condition0 = false;
    }
    if ( this._condition0 )
    {
      if ( Compare.equals ( RallyStringService.subString ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "COD_SERVICIO" ), 0, LARGO ), RallyStringService.subString ( this.app.COD_SERV_GBL, 0, LARGO ) ) )
      {
        if ( ( ( Compare.equals ( this.app.ACCION_GBL, "RECL" ) ) || ( Compare.equals ( this.app.ACCION_GBL, "RREC" ) ) ) && ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "ACCION" ), "RETR" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "ACCION" ), "RRET" ) ) )  )
        {
          FECHA_RECLA = this.app.FECHA_IDENTIFICADO_GBL;
          FECHA_RETRO = this.dm.getFieldDate ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "FECHA_IDENTIFICADO" );
          RR_ACCION = this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "ACCION" );
          RR_STATUS = this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" );
          COUNTER = MathService.plus ( COUNTER, 1  );
        }
        if ( ( ( Compare.equals ( this.app.ACCION_GBL, "RETR" ) ) || ( Compare.equals ( this.app.ACCION_GBL, "RRET" ) ) ) && ( ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "ACCION" ), "RECL" ) ) || ( Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "ACCION" ), "RREC" ) ) )  )
        {
          FECHA_RETRO = this.app.FECHA_IDENTIFICADO_GBL;
          FECHA_RECLA = this.dm.getFieldDate ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "FECHA_IDENTIFICADO" );
          RR_ACCION = this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "ACCION" );
          RR_STATUS = this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" );
          COUNTER = MathService.plus ( COUNTER, 1  );
        }
      }
      if ( ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "REFERIDO" ) ) && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDDETE" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDLECT" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "SALDADA" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "COMPRECL" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "DESESTIM" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPROCRE" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPROC10" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPRODT" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDCOBR" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "REDETERM" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "SALDRETR" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PAGADO" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "AJUSTADA" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "AJUSTADO" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOGESCOB" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOGESQUI" ) )  && ( ! Compare.equals ( COUNTER, 0 ) )  )
      {
        this._condition1 = true;
      }
      else
      {
        this._condition1 = false;
      }
      if ( this._condition1 )
      {
        if ( ( Compare.equals ( this.app.ACCION_GBL, "RETR" ) ) || ( Compare.equals ( this.app.ACCION_GBL, "RRET" ) ) )
        {
          this._condition2 = true;
        }
        else
        {
          this._condition2 = false;
        }
        if ( this._condition2 )
        {
          if ( ( Compare.equals ( FLUJO_RECLA_RETRO_ADL.getCOMPENSA ( this.app ), "COMPRECL" ) ) || ( Compare.equals ( FLUJO_RECLA_RETRO_ADL.getCOMPENSA ( this.app ), "SALDRECL" ) ) )
          {
            this._condition3 = true;
          }
          else
          {
            this._condition3 = false;
          }
          if ( this._condition3 )
          {
            RECLA_STATUS  = this.dm.dbClose ( RECLA_ID );

            COMPENSACION_RETRO_PKT.exec ( this.app );
            return;
          }
        }
      }
    }

  }


  /**
   *
   */
  protected void step2 ( ParameterSet ps )
  {
    if ( this._condition0 )    //    while ( Compare.equals ( RECLA_STATUS, 0 ) )
    {
      if ( this._condition1 )    //      if ( ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "REFERIDO" ) ) && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDDETE" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDLECT" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "SALDADA" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "COMPRECL" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "DESESTIM" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPROCRE" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPROC10" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPRODT" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDCOBR" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "REDETERM" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "SALDRETR" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PAGADO" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "AJUSTADA" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "AJUSTADO" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOGESCOB" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOGESQUI" ) )  && ( ! Compare.equals ( COUNTER, 0 ) )  )
      {
        if ( this._condition2 )    //        if ( ( Compare.equals ( this.app.ACCION_GBL, "RETR" ) ) || ( Compare.equals ( this.app.ACCION_GBL, "RRET" ) ) )
        {
          if ( this._condition3 )    //          if ( ( Compare.equals ( FLUJO_RECLA_RETRO_ADL.getCOMPENSA ( this.app ), "COMPRECL" ) ) || ( Compare.equals ( FLUJO_RECLA_RETRO_ADL.getCOMPENSA ( this.app ), "SALDRECL" ) ) )
          {
          }
        }
        if ( ( Compare.equals ( this.app.ACCION_GBL, "RECL" ) ) || ( Compare.equals ( this.app.ACCION_GBL, "RREC" ) ) )
        {
          this._condition4 = true;
        }
        else
        {
          this._condition4 = false;
        }
        if ( this._condition4 )
        {
          if ( ( ( ( Compare.equals ( RR_STATUS, "COMPRETR" ) ) || ( Compare.equals ( RR_STATUS, "SALDRETR" ) ) ) && ( ! Compare.equals ( FLUJO_RECLA_RETRO_ADL.getCOMPENSA ( this.app ), "PENDCOBR" ) )  ) || ( Compare.equals ( RR_STATUS, "AUTORIZA" ) ) )
          {
            this._condition5 = true;
          }
          else
          {
            this._condition5 = false;
          }
          if ( this._condition5 )
          {
            RECLA_STATUS  = this.dm.dbClose ( RECLA_ID );

            COMPENSACION_RETRO_PKT.exec ( this.app );
            return;
          }
        }
      }
    }

  }


  /**
   *
   */
  protected void step3 ( ParameterSet ps )
  {
    if ( this._condition0 )    //    while ( Compare.equals ( RECLA_STATUS, 0 ) )
    {
      if ( this._condition1 )    //      if ( ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "REFERIDO" ) ) && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDDETE" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDLECT" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "SALDADA" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "COMPRECL" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "DESESTIM" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPROCRE" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPROC10" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOPRODT" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PENDCOBR" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "REDETERM" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "SALDRETR" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "PAGADO" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "AJUSTADA" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "AJUSTADO" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOGESCOB" ) )  && ( ! Compare.equals ( this.dm.getFieldString ( this.dm.get ( "RECLA_RETRO_TABLE_DSD" ), "STATUS" ), "NOGESQUI" ) )  && ( ! Compare.equals ( COUNTER, 0 ) )  )
      {
        if ( this._condition4 )    //        if ( ( Compare.equals ( this.app.ACCION_GBL, "RECL" ) ) || ( Compare.equals ( this.app.ACCION_GBL, "RREC" ) ) )
        {
          if ( this._condition5 )    //          if ( ( ( ( Compare.equals ( RR_STATUS, "COMPRETR" ) ) || ( Compare.equals ( RR_STATUS, "SALDRETR" ) ) ) && ( ! Compare.equals ( FLUJO_RECLA_RETRO_ADL.getCOMPENSA ( this.app ), "PENDCOBR" ) )  ) || ( Compare.equals ( RR_STATUS, "AUTORIZA" ) ) )
          {
          }
        }
      }
      try
      {

    	  RECLA_STATUS = this.dm.nextRow ( RECLA_ID );
    	  if (Compare.equals(RECLA_STATUS, 0))
    	  {
    		  this.currentStep = 1;
    		  return;
    	  }
    	  else
    	  {
    		  RECLA_STATUS  = this.dm.dbClose ( RECLA_ID );
    		  this.currentStep = 4;
    		  return;
    	  }
      }
      catch (NullPointerException ex)
      {
    	  this.currentStep = 4;
          return;
      }
      //RECLA_STATUS  = this.dm.dbNext ( RECLA_ID );
      //RECLA_STATUS  = this.dm.dbClose ( RECLA_ID );
      //this.currentStep = 1;
     // this.currentStep = 4;
      //return;
    }

  }


  /**
   *
   */
  protected void step4 ( ParameterSet ps )
  {
    RECLA_STATUS  = this.dm.dbClose ( RECLA_ID );

  }
}



/* ---------------------------------------------------------------------



procedure compensacion_bene_retro_read_adl;
var
        recla_id        : number(9,0);
        recla_status    : number(9,0);

        retro_id        : number(9,0);
        retro_status    : number (9,0);

        fecha           : date;
        fecha_recla     : date export;
        fecha_retro     : date export;
        RR_ACCION       : CHAR(8) EXPORT;
        RR_STATUS       : CHAR;
        COUNTER : NUMBER;
        largo : number(1,0);
begin
set_trace();
largo := 0;
COUNTER := 0;
           db_open(recla_retro_table_dsd,recla_id,recla_status);
           if recla_status <> 0
           then
             begin
                error(recla_status);
                return;
             end;

           db_reset(recla_id,recla_status);
           if recla_status <> 0
           then
             begin
                error(recla_status);
                return;
             end;

           RECLA_RETRO_TABLE_DSD.SEGURO_SOCIAL_JEFE_FAM := ss_jefe_familia_gbl;
           RECLA_RETRO_TABLE_DSD.SEGURO_SOCIAL_JEFE_SERV := ss_jefe_servicio_gbl
;
           RECLA_RETRO_TABLE_DSD.RMO_OFICINA := RMO_GBL;
{   if (accion_gbl = 'RECL') OR (ACCION_GBL = 'RREC')
           then RECLA_RETRO_TABLE_DSD.ACCION := 'RETR';
           if (accion_gbl = 'RETR') OR (ACCION_GBL = 'RRET')
           then RECLA_RETRO_TABLE_DSD.ACCION := 'RECL';}


           db_query(recla_id,recla_status);
           db_get_first(recla_id,recla_status);
           if recla_status <> 0
           then
             begin
                return;
             end;
           {endif}

if substr(cod_serv_gbl,0,3) = 'PAN'
then
        largo := 3;
else
        largo := 4;
{endif}

WHILE (RECLA_STATUS = 0)
{OR (COUNTER = 0)}
DO BEGIN
IF SUBSTR(RECLA_RETRO_TABLE_DSD.COD_SERVICIO,0,largo) = SUBSTR(COD_SERV_GBL,0,la
rgo)
THEN
        BEGIN
                if ((accion_gbl = 'RECL') or (accion_gbl = 'RREC'))
                and ((RECLA_RETRO_TABLE_DSD.ACCION = 'RETR') OR
                (RECLA_RETRO_TABLE_DSD.ACCION = 'RRET'))
                then
                   begin
                        fecha_recla := fecha_identificado_gbl;
                        fecha_retro := RECLA_RETRO_TABLE_DSD.FECHA_IDENTIFICADO;
                        rr_accion := RECLA_RETRO_TABLE_DSD.ACCION;
                        RR_STATUS := RECLA_RETRO_TABLE_DSD.STATUS;
                        COUNTER := COUNTER + 1;
                   end;
                {endif}
                if ((accion_gbl = 'RETR') or (accion_gbl = 'RRET'))
                and ((RECLA_RETRO_TABLE_DSD.ACCION = 'RECL') OR
                (RECLA_RETRO_TABLE_DSD.ACCION = 'RREC'))
                then
                   begin
                        fecha_retro := fecha_identificado_gbl;
                        fecha_recla := RECLA_RETRO_TABLE_DSD.FECHA_IDENTIFICADO;
                        rr_accion := RECLA_RETRO_TABLE_DSD.ACCION;
                        RR_STATUS := RECLA_RETRO_TABLE_DSD.STATUS;
                        COUNTER := COUNTER + 1;
                  end;
                {endif}
                DEBUG_LOG(TO_CHAR(trunc(FECHA_RETRO,'DD')));
                DEBUG_LOG(TO_CHAR(trunc(system_date,'DD')));
                DEBUG_LOG(rr_accion);

        END;

                IF (RECLA_RETRO_TABLE_DSD.STATUS <> 'REFERIDO')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'PENDDETE')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'PENDLECT')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'SALDADA')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'COMPRECL')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'DESESTIM')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'NOPROCRE')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'NOPROC10')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'NOPRODT')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'PENDCOBR')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'REDETERM')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'SALDRETR')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'PAGADO')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'AJUSTADA')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'AJUSTADO')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'NOGESCOB')
                   AND (RECLA_RETRO_TABLE_DSD.STATUS <> 'NOGESQUI')
                   and (COUNTER <> 0)
                THEN
               begin

                if (accion_gbl = 'RETR') or (accion_gbl = 'RRET')
                then
                   begin
                IF (flujo_recla_retro_adl.compensa = 'COMPRECL') OR
                        (flujo_recla_retro_adl.compensa = 'SALDRECL')
                        THEN
                           begin
                                Db_close(recla_id,recla_status);
                                call compensacion_retro_pkt;
                           end;

                        {endif}
                   end;
                {endif}


                if (accion_gbl = 'RECL') or (accion_gbl = 'RREC')
                then
                   begin
                        IF (((RR_STATUS = 'COMPRETR') OR
                           (RR_STATUS = 'SALDRETR'))
                           and (flujo_recla_retro_adl.compensa <> 'PENDCOBR'))
                           OR (RR_STATUS = 'AUTORIZA')
                        THEN
                           begin
                                Db_close(recla_id,recla_status);
                                call compensacion_retro_pkt;
                           end;
                        {endif}
                   end;
                   end;
                {endif}
        DB_GET_NEXT(RECLA_ID,RECLA_STATUS);
END;
db_close(recla_id,recla_status);


set_notrace();

END;







--------------------------------------------------------------------- */
